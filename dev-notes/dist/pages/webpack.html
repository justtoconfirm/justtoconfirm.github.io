<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <link rel="shortcut icon" type="image/ico" href="../../src/img/favicon/code.ico" />
    <title>Dev notes - Webpack</title>
    <link rel="stylesheet" href="../css/foundation.min.css" />
    <link rel="stylesheet" href="../css/style.min.css" />


<style>
header {
    background-color: #000;
    position: fixed;
    width: 100%;
}

main {
    padding-top: 50px;
}

.nav {
  -webkit-transition: left 0.5s ease;
  -moz-transition: left 0.5s ease;
  -ms-transition: left 0.5s ease;
  -o-transition: left 0.5s ease;
  transition: left 0.5s ease;
  /*background: #28dde0;*/
  background: #eee;
  color: white;
  cursor: pointer;
  /*font-size: 2rem;*/
  height: 100vh;
  /*left: -20rem;*/
  left: -25rem;
  padding: 6rem 2rem 2rem 2rem;
  position: fixed;
  top: 0;
  width: 20rem;
  z-index: 1;
}

.nav.expanded { left: 0; }

.nav ul {
  position: absolute;
  top: 150px;
  /*top: 50%;*/
  /*position: relative;
  top: 100px;*/
  /*margin-top: 190px;*/
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-toggle {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  cursor: pointer;
  height: 2rem;
  /*left: 2rem;*/
  /*position: fixed;*/
  position: relative;
  /*top: 2rem;*/
  width: 3.6rem;
  z-index: 2;
}

.nav-toggle:hover { opacity: 0.8; }

.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -ms-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
  /*background: white;*/
  background: red;
  content: '';
  height: 0.4rem;
  width: 100%;
}

.nav-toggle .nav-toggle-bar { margin-top: 0; z-index: 1;}

.nav-toggle .nav-toggle-bar::after { margin-top: 0.8rem; }

.nav-toggle .nav-toggle-bar::before { margin-top: -0.8rem; }

.nav-toggle.expanded .nav-toggle-bar { background: transparent; }

.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {
  /*background: white;*/
  background: red;
  margin-top: 0;
}

.nav-toggle.expanded .nav-toggle-bar::after {
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.nav-toggle.expanded .nav-toggle-bar::before {
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
</style>


</head>
<body>


<header>

<div class="nav-toggle">
    <div class="nav-toggle-bar"></div>
</div>

<nav class="nav">
	<ul class="no-list-style menu">
		<li><a href='../../index.html'>Home</a></li>
	</ul>
</nav>

</header>

<main>
    <div class="row">
        <div class="small-12 medium-12 large-12 columns">

            <h1 class="heading">Webpack</h1>

        </div>
    </div>
    <div class="row">
        <div class="small-12 medium-12 large-9 columns">

            <section class="padding-btm">
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Introduction</h2>
                <p>Webpack is a module bundler for modern JavaScript applications. This process is called a dependency graph and includes every module your application needs, which is then packaged into one or more bundles. Webpack is also known as a build tool.</p>
                <p><!-- https://tutorialzine.com/2017/04/learn-webpack-in-15-minutes --></p>
                <p><!-- https://webpack.js.org/concepts/ --></p>
                <p><!-- https://medium.com/front-end-hacking/what-are-npm-yarn-babel-and-webpack-and-how-to-properly-use-them-d835a758f987 --></p>
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Install</h2>
                <p>The easiest way to install Webpack is by using a package manager such as NPM (Node Package Manager) or Yarn. With NPM, you will need to have Node.js installed on your machine and a package.json file created. This document will not describe how to install Node.js or NPM at this time.</p>
                <p>It is preferred to install Webpack locally (without the -g tag). This will make sure any developer working on your project will have the same version of Webpack.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='comment'># Create project directory</span>
$ <span class='keyword'>mkdir</span> <span class='name'>my-app</span>
$ <span class='keyword'>cd</span> <span class='name'>my-app</span>

<span class='comment'># Create package.json file</span>
$ <span class='keyword'>npm init</span> <span class='value'>-y</span>
<span class='comment'># Install Webpack</span>
$ <span class='keyword'>npm install</span> <span class='name'>webpack</span> <span class='value'>--save-dev</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Once we have Webpack installed within our project directory, it is best to run Webpack using a Node.js script. By calling npm run build from the terminal, we can make Webpack bundle our files (the -p flag/option stands for production and minifies the bundled code). Running npm run watch will start a process that automatically bundles our files when any of them change.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JSON : package.json">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>"scripts"</span> {
    <span class='name'>"build"</span>: <span class='value'>"webpack -p"</span>,
    <span class='name'>"watch"</span>: <span class='value'>"webpack --watch"</span>
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Webpack Config file</h2>
                <p>The Webpack config file (webpack.config.js) is placed in the root directory of your project.</p>
                <p>Each dependency is processed and outputted into files called bundles.</p>
                <p>The entry property tells Webpack where our main JavaScript file is located. For example, to bundle a JavaScript file named index.js in a 'js' directory within our project, the path property would have the value './js/index.js'. The bundled file would be placed in a dist/ directory and be named 'bundle.js'.</p>
                <p>The output property specifies the name and path of our bundle. After running Webpack we will have our JavaScript in a file called bundle.js. This is the only script file that we will link in our HTML. We have set the path to output our bundle in a 'dist' directory.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const webpack = require('webpack');
<span class='comment'>// This library allows us to combine paths easily</span>
<span class='keyword'>const</span> <span class='name'>path</span> = <span class='keyword'>require</span>(<span class='value'>'path'</span>);

<span class='keyword'>module</span>.<span class='name'>exports</span> = {
    <span class='name'>entry</span>: <span class='value'>'./js/index.js'</span>,
    <span class='name'>output</span>: {
        <span class='name'>path</span>: <span class='name'>path</span>.<span class='keyword'>resolve</span>(<span class='value'>__dirname</span>, <span class='value'>'dist'</span>),
        <span class='name'>filename</span>: <span class='value'>'bundle.js'</span>
    }
};
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Modules</h2>
                <p><!-- https://webpack.js.org/concepts/modules/ --></p>
                <p>In modular programming, developers break programs up into chunks of functionality called a module (sometimes also called Components). Webpack supports modules written in a variety of languages and preprocessors using Loaders. Loaders describe to Webpack how to process non-JavaScript modules. By default, Webpack handles JavaScript modules only.</p>
                <p>When writing JavaScript, Webpack provides multiple way to work with modules. For example, we can use the ES6 import syntax for writing JavaScript modules which can then be imported. A few other examples include:</p>
                <p><ul class='list'><li>An ES2015/ES6 import statement</li></p>
                <p><li>CommonJS require() statement</li></p>
                <p><li>AMD define and require statement</li></p>
                <p><li>An @import statement inside of a CSS/SCSS/Sass file</li></ul></p>
                <p>Webpack 1 requires a specific loader to convert ES2015/ES6 import, but this is standard within Webpack 2.</p>
                <p>Let's create a JavaScript module that greets our users. We create a JavaScript file called greeting.js in the js/ directory of our project folder, and export a simple function. The code can be found below.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : my-app&#x2F;js&#x2F;greeting.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>function</span> <span class='name'>greeting</span> () {
    console.log( <span class='value'>'Welcome, have a great day.'</span> );
};

<span class='comment'>// Export this module for use in other JavaScript modules</span>
<span class='keyword'>export default</span> <span class='name'>greeting</span>;
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Next, we want to import it into our main JavaScript file - index.js. This is the file that's called in the entry point property within the webpack.config.js file and is our main JavaScript file. Once imported, both JavaScript files will be bundled into the bundle.js file for use within the HTML.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : my-app&#x2F;js&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='comment'>// Import the greeting module</span>
<span class='keyword'>import</span> <span class='name'>greeting</span> <span class='keyword'>from</span> <span class='value'>'./greeting.js'</span>;

console.log( <span class='value'>'I am the entry point'</span> );

<span class='comment'>// Call the function from the greeting module</span>
<span class='name'>greeting</span>();
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>You may want to move your module files into a separate directory within the js/ directory to organise your project structure. You will need to update the file paths in the relevant files and the webpack.config.js file if you want to do this. Our file structure in the project should look like this:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>my-app/</span>
    <span class='keyword'>dist/</span>
        bundle.js
    index.html
    <span class='keyword'>js/</span>
        index.js
        <span class='keyword'>modules/</span>
            greeting.js
    <span class='keyword'>node_modules/</span>
    package.json
    webpack.config.js
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Remember, modules are sometimes referred to as Components.</p>
            </section>
            <section class="padding-btm">
                <p>Here is the HTML code that we will use to include our bundle.js file. This will be named index.html and saved within the root of our project folder.</p>
                <p>The page will be empty, but if you inspect the page using the developer tools and view the console, you will see the console.log output from both JavaScript module files that have been included within bundle.js</p>
                <!-- Code example -->
                <div class="code-block" rel="html" data-title="HTML : my-app&#x2F;index.html">
                    <pre>
                        <code>
<!-- Leave space here -->
&lt;!DOCTYPE html&gt;
&lt;<span class='keyword'>html</span> <span class='name'>lang</span>=<span class='value'>'en'</span>&gt;
&lt;<span class='keyword'>head</span>&gt;
    &lt;<span class='keyword'>meta</span> <span class='name'>charset</span>=<span class='value'>'utf-8'</span> /&gt;
    &lt;<span class='keyword'>title</span>&gt;My App&lt;<span class='keyword'>/title</span>&gt;
&lt;<span class='keyword'>/head</span>&gt;
&lt;<span class='keyword'>body</span>&gt;

<span class='comment'>&lt;!-- Webpack bundle.js file --&gt;</span>
&lt;<span class='keyword'>script</span> <span class='name'>src</span>=<span class='value'>'dist/bundle.js'</span>&gt;&lt;<span class='keyword'>/script</span>&gt;

&lt;<span class='keyword'>/body</span>&gt;
&lt;<span class='keyword'>/html</span>&gt;
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Loaders</h2>
                <p><!-- https://webpack.js.org/concepts/loaders/#example --></p>
                <p>Loaders allow extra functionality and features to be applied to Webpack. Loaders are the node-based utilities built for Webpack to help Webpack to compile and/or transform a given type of resource that can be bundled as a JavaScript module. They are not include with Webpack itself when first installed, but can be added. They are a way to execute tasks during the bundling and pre/post processing. You can use NPM to install Loaders that you may need to use in your Webpack configuration. In other words, Loaders are kind of like 'tasks' to handle front-end build steps. For example, you can use Loaders to compile SCSS files into CSS, transform files in languages such as TypeScript into JavaScript, and even import CSS files directly from your JavaScript modules.</p>
                <p>As an example we will use NPM to install loaders that will tell Webpack to load a CSS file and to convert TypeScript to JavaScript. This process can be repeated for any Loaders you need. The loaders will be listed as devDependencies within the package.json file.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ <span class='keyword'>npm install</span> <span class='name'>css-loader</span> <span class='value'>--save-dev</span>
$ <span class='keyword'>npm install</span> <span class='name'>ts-loader</span> <span class='value'>--save-dev</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Within our webpack.config.js file we can then instruct Webpack - using a regular expression (RegEx) - to use the css-loader for every .css file and ts-loader for all .ts files.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const webpack = require('webpack');
<span class='keyword'>const</span> <span class='name'>path</span> = <span class='keyword'>require</span>(<span class='value'>'path'</span>);

<span class='keyword'>module</span>.<span class='name'>exports</span> = {
    <span class='name'>module</span>: {
        <span class='name'>rules</span>: [
            { <span class='name'>test</span>: <span class='value'>&#47;&#92;.css$/</span>, <span class='name'>use</span>: <span class='value'>'css-loader'</span> },
            { <span class='name'>test</span>: <span class='value'>&#47;&#92;.ts$/</span>, <span class='name'>use</span>: <span class='value'>'ts-loader'</span> }
        ]
    }
};
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">SCSS &amp; Sass</h2>
                <p>Many projects now use SCSS or Sass. To compile SCSS/Sass code into CSS for use in our application, we can use Webpack and Loaders. In this next example, we will be adding sass-loader to our Webpack configuration.</p>
                <p><!-- https://medium.com/a-beginners-guide-for-webpack-2/using-sass-9f52e447c5ae --></p>
                <p><!-- https://github.com/webpack-contrib/sass-loader --></p>
                <p>We begin by using NPM to install sass-loader. This is also dependent on another loader, node-sass, so we'll install both at the same time and also install the other loaders we require.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ <span class='keyword'>npm install</span> <span class='name'>sass-loader node-sass</span> <span class='value'>--save-dev</span>
$ <span class='keyword'>npm install</span> <span class='name'>style-loader css-loader</span> <span class='value'>--save-dev</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Begin by creating a simple style.scss file in the root of our project directory/folder.</p>
                <p>You will need to import your SCSS code into the main JavaScript file - index.js - so that it can be considered as a dependency by Webpack. The SCSS file itself is currently in the root directory, but should be moved to its own directory/folder.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : my-app&#x2F;js&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='comment'>// Import the style.scss file in the root directory</span>
<span class='keyword'>import</span> <span class='value'>'./../style.scss'</span>;

<span class='comment'>// Import the greeting module</span>
<span class='keyword'>import</span> <span class='name'>greeting</span> <span class='keyword'>from</span> <span class='value'>'./greeting.js'</span>;

console.log( <span class='value'>'I am the entry point'</span> );

<span class='comment'>// Call the function from the greeting module</span>
<span class='name'>greeting</span>();
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>The webpack.config.js file is now updated to chain sass-loader, then css-loader, and then chain their output to style-loader.</p>
                <p>The rule itself has been updated to handle both our Sass and CSS files. The regular expression now matches any .scss or .css file, which should then be compiled with the chain of loaders specified in the use array. The loaders are chained in reverse order.</p>
                <p><ul class='list'><li>style-loader - creates style nodes from JS strings</li></p>
                <p><li>css-loader - translates CSS into CommonJS</li></p>
                <p><li>sass-loader - compiles Sass/SCSS into CSS</li></ul></p>
                <p>This rule will process and .css files and pass on the .css to style-loader, which does the job of putting the CSS code inside &lt;style&gt; tags inside of &lt;head&gt; within our HTML code to apply our styles to our application. The CSS will be internal and can be seen by viewing the page source code or inspecting the HTML page within the developer tools. We can use the extract-text-plugin to extract the CSS into a separate (external stylesheet) .css file.</p>
                <p><!-- https://medium.com/a-beginners-guide-for-webpack-2/extract-text-plugin-668e7cd5f551 --></p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const webpack = require('webpack');
<span class='keyword'>const</span> <span class='name'>path</span> = <span class='keyword'>require</span>(<span class='value'>'path'</span>);

<span class='keyword'>module</span>.<span class='name'>exports</span> = {
    <span class='name'>entry</span>: <span class='value'>'./js/index.js'</span>,
    <span class='name'>output</span>: {
        <span class='name'>path</span>: <span class='name'>path</span>.<span class='keyword'>resolve</span>(<span class='value'>__dirname</span>, <span class='value'>'dist'</span>),
        <span class='name'>filename</span>: <span class='value'>'bundle.js'</span>
    },
    <span class='name'>module</span>: {
        <span class='name'>rules</span>: [
            {
                <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
                <span class='name'>use</span>: [<span class='value'>'style-loader'</span>, <span class='value'>'css-loader'</span>, <span class='value'>'sass-loader'</span>]
            }
        ]
    }
};
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>It would be better to compile our SCSS code into CSS using Webpack and then have the CSS be within an external stylesheet and not internal within the HTML code. To do this we will use the ExtractTextPlugin.</p>
                <p>We begin by opening the terminal and installing the plugin using NPM.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ <span class='keyword'>npm install</span> <span class='name'>extract-text-webpack-plugin</span> <span class='value'>--save-dev</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Next, we update our Webpack configuration file (webpack.config.js) to use the plugin. This will compile our SCSS/Sass code into CSS and the resulting CSS file will be placed in the dist/ directory and will be named 'bundle.css'.</p>
                <p>Remove the import statement to the SCSS (style.scss) file in the index.js JavaScript module, and add a link to the dist/bundle.css stylesheet in your index.html HTML page. This will apply the CSS stylesheet styling to your application.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const webpack = require('webpack');
<span class='keyword'>const</span> <span class='name'>path</span> = <span class='keyword'>require</span>(<span class='value'>'path'</span>);
<span class='keyword'>const</span> <span class='name'>ExtractTextPlugin</span> = <span class='keyword'>require</span>(<span class='value'>'extract-text-webpack-plugin'</span>);

<span class='keyword'>module</span>.<span class='name'>exports</span> = {
    <span class='name'>entry</span>: [
        <span class='value'>'./js/index.js'</span>
        <span class='value'>'./scss/main.scss'</span>
    ],
    <span class='name'>output</span>: {
        <span class='name'>path</span>: <span class='name'>path</span>.<span class='keyword'>resolve</span>(<span class='value'>__dirname</span>, <span class='value'>'dist'</span>),
        <span class='name'>filename</span>: <span class='value'>'bundle.js'</span>
    },
    <span class='name'>module</span>: {
        <span class='name'>rules</span>: [
            {
                <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
                <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
                    <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
                    <span class='name'>use</span>: [<span class='value'>'css-loader'</span>, <span class='value'>'sass-loader'</span>],
                })
            }
        ]
    },
    <span class='name'>plugins</span>: [
        <span class='keyword'>new</span> <span class='name'>ExtractTextPlugin</span>({<span class='name'>filename</span>: <span class='value'>'bundle.css'</span>}),
    ],
};
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>The file structure should now look like this:</p>
                <p><!-- https://www.codementor.io/tamizhvendan/beginner-guide-setup-reactjs-environment-npm-babel-6-webpack-du107r9zr --></p>
                <p><!-- https://reactjs.org/docs/add-react-to-an-existing-app.html --></p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>my-app/</span>
    <span class='keyword'>dist/</span>
        bundle.css
        bundle.js
    index.html
    <span class='keyword'>js/</span>
        index.js
        <span class='keyword'>modules/</span>
            greeting.js
    <span class='keyword'>node_modules/</span>
    package.json
    <span class='keyword'>src/</span>
        style.scss
    webpack.config.js
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Revised File Structure</h2>
                <p>Now that we have got the basic webpack.config.js file working, it's time to make some revisions to tidy-up the file structure of our project. The .gitignore file has been added to ensure we do not commit the node_modules directory when using Git version control.</p>
                <p>Here is the revised file structure:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>my-app/</span>
    <span class='keyword'>dist/</span>
        scripts/
            main.js
        styles/
            style.css
    <span class='keyword'>src/</span>
        scss/
            main.scss
        index.js
    .gitignore
    index.html
    <span class='keyword'>node_modules/</span>
    package.json
    webpack.config.js
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Now that the file structure has been revised, we can update the webpack.config.js file also.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript : webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const webpack = require('webpack');
<span class='keyword'>const</span> <span class='name'>path</span> = <span class='keyword'>require</span>(<span class='value'>'path'</span>);
<span class='keyword'>const</span> <span class='name'>ExtractTextPlugin</span> = <span class='keyword'>require</span>(<span class='value'>'extract-text-webpack-plugin'</span>);

<span class='keyword'>module</span>.<span class='name'>exports</span> = {
    <span class='name'>entry</span>: [
        <span class='value'>'./src/index.js'</span>
        <span class='value'>'./src/scss/main.scss'</span>
    ],
    <span class='name'>output</span>: {
        <span class='name'>path</span>: <span class='name'>path</span>.<span class='keyword'>resolve</span>(<span class='value'>__dirname</span>, <span class='value'>'dist'</span>),
        <span class='name'>filename</span>: <span class='value'>'scripts/main.js'</span>
    },
    <span class='name'>module</span>: {
        <span class='name'>rules</span>: [
            {
                <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
                <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
                    <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
                    <span class='name'>use</span>: [<span class='value'>'css-loader'</span>, <span class='value'>'sass-loader'</span>],
                })
            }
        ]
    },
    <span class='name'>plugins</span>: [
        <span class='keyword'>new</span> <span class='name'>ExtractTextPlugin</span>({<span class='name'>filename</span>: <span class='value'>'styles/style.css'</span>}),
    ],
};
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>We now want to exclude the node_modules directory and minimise the CSS once the SCSS files have been transpiled.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>module</span>: {
   <span class='name'>rules</span>: [
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
            <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
            <span class='name'>use</span>: [
               {
                  loader: <span class='value'>'css-loader'</span>,
                  options: {
                     minimise: true
                  }
               },
               {
                  loader: <span class='value'>'sass-loader'</span>
               }
            ]
         })
      }
   ]
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Autoprefixer</h2>
                <p>We begin by using NPM (Node Package Manager) to install Autoprefixer and postcss-loader as devDependencies.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ npm install autoprefixer --save-dev
$ npm install postcss-loader --save-dev
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>module</span>: {
   <span class='name'>rules</span>: [
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
            <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
            <span class='name'>use</span>: [
               {
                  loader: <span class='value'>'css-loader'</span>,
                  options: {
                     minimise: true
                  }
               },
               {
                  loader: <span class='value'>'postcss-loader'</span>,
                  options: {
                     plugins: () => [require('autoprefixer')]
                  }
               },
               {
                  loader: <span class='value'>'sass-loader'</span>
               }
            ]
         })
      }
   ]
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Your package.json file will also need updating to set the browsers that are to be supported by Autoprefixer.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
"browserslist": [
   "> 1%,"
   "ie > 9"
],
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Babel Loader</h2>
                <p>If we want to use ES6 JavaScript syntax within our application, or JSX while working with React, we can use Babel to translate both into formats that are supported by all browsers. Webpack uses loaders to translate the file before bundling them. For example, we can take a JSX file (not supported by browsers), Webpack will bundle the file (and translate into standard JavaScript when using Babel) and this will output a standard JavaScript file supported by all browsers.</p>
                <p><!-- https://florianbrinkmann.com/en/4197/webpack-and-babel/ --></p>
                <p>Begin by using NPM to install the relevant Babel packages.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ <span class='keyword'>npm install</span> <span class='name'>babel-cli babel-core</span> <span class='value'>--save-dev</span>
$ <span class='keyword'>npm install</span> <span class='name'>babel-loader babel-preset-env babel-preset-react</span> <span class='value'>--save-dev</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Now that the NPM packages have been installed, we can update our webpack.config.js file to process ES6 JavaScript.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>module</span>: {
   <span class='name'>rules</span>: [
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.js$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: {
            loader: <span class='value'>'babel-loader'</span>,
            options: {
               presets: ['env']
            }
         }
      },
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
            <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
            <span class='name'>use</span>: [
               {
                  loader: <span class='value'>'css-loader'</span>,
                  options: {
                     minimise: true
                  }
               },
               {
                  loader: <span class='value'>'postcss-loader'</span>,
                  options: {
                     plugins: () => [require('autoprefixer')]
                  }
               },
               {
                  loader: <span class='value'>'sass-loader'</span>
               }
            ]
         })
      }
   ]
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Install React</h2>
                <p>You can install React using NPM. This will install React and ReactDOM as a dependency - as seen when you view the package.json file - so we can work with React using Webpack.</p>
                <p>The React documentation can be found <a href='reactjs.html' target='_blank'>here</a>.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ <span class='keyword'>npm install</span> <span class='name'>react react-dom</span> <span class='value'>--save</span>
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>A small change is needed to our webpack.config.js file to use React. Create a components directory within the src directory of your project where any React components can be placed.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>module</span>: {
   <span class='name'>rules</span>: [
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.js$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: {
            loader: <span class='value'>'babel-loader'</span>,
            options: {
               presets: ['env', 'react']
            }
         }
      },
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Images</h2>
                <p>Begin by using NPM (Node Package Manager) to install file-loader as a devDependency</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ npm install file-loader --save-dev
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Update the webpack.config.file to process image files. The image file should be placed within the src directory of your project. When Webpack runs, the image is moved into the dist directory. The name of the image in the dist directory will be renamed with a hash.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>module</span>: {
   <span class='name'>rules</span>: [
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.js$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: {
            loader: <span class='value'>'babel-loader'</span>,
            options: {
               presets: ['env']
            }
         }
      },
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.(s*)css$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: <span class='name'>ExtractTextPlugin</span>.<span class='keyword'>extract</span>({
            <span class='name'>fallback</span>: <span class='value'>'style-loader'</span>,
            <span class='name'>use</span>: [
               {
                  loader: <span class='value'>'css-loader'</span>,
                  options: {
                     minimise: true
                  }
               },
               {
                  loader: <span class='value'>'postcss-loader'</span>,
                  options: {
                     plugins: () => [require('autoprefixer')]
                  }
               },
               {
                  loader: <span class='value'>'sass-loader'</span>
               }
            ]
         })
      }
      {
         <span class='name'>test</span>: <span class='value'>&#47;&#92;.(png|svg|jpg|gif)$/</span>,
         exclude: /node_modules/,
         <span class='name'>use</span>: {
            loader: <span class='value'>'file-loader'</span>,
         }
      }
   ]
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>To avoid the image having a hash, update the webpack.config.js file. This amendment will also place the image within an img folder inside of the dist directory.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: webpack.config.js">
                    <pre>
                        <code>
<!-- Leave space here -->
{
   <span class='name'>test</span>: <span class='value'>&#47;&#92;.(png|svg|jpg|gif)$/</span>,
      exclude: /node_modules/,
      <span class='name'>use</span>: {
         loader: <span class='value'>'file-loader?name=img/[name].[ext]'</span>,
      }
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>

        </div>

        <div class="small-12 medium-12 large-3 columns">
        </div>
    </div>
</main>


<footer>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<ul class="list no-list-style">
				<li>&copy 2018 JTC</li>
			</ul>
		</div>
	</div>
</footer>

<script>
(function() {
    // https://www.cssscript.com/basic-hamburger-toggle-menu-css-vanilla-javascript/
  var hamburger = {
    navToggle: document.querySelector('.nav-toggle'),
    nav: document.querySelector('nav'),

    doToggle: function(e) {
      //e.preventDefault();
      this.navToggle.classList.toggle('expanded');
      this.nav.classList.toggle('expanded');
    }
  };

  hamburger.navToggle.addEventListener('click', function(e) { hamburger.doToggle(e); });
  hamburger.nav.addEventListener('click', function(e) { hamburger.doToggle(e); });

}());
</script>

</body>
</html>