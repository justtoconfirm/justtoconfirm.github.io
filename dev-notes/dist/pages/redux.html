<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <link rel="shortcut icon" type="image/ico" href="../../src/img/favicon/code.ico" />
    <title>Dev notes - Redux</title>
    <link rel="stylesheet" href="../css/foundation.min.css" />
    <link rel="stylesheet" href="../css/style.min.css" />


<style>
header {
    background-color: #000;
    position: fixed;
    width: 100%;
}

.nav {
  -webkit-transition: left 0.5s ease;
  -moz-transition: left 0.5s ease;
  -ms-transition: left 0.5s ease;
  -o-transition: left 0.5s ease;
  transition: left 0.5s ease;
  /*background: #28dde0;*/
  background: #eee;
  color: white;
  cursor: pointer;
  /*font-size: 2rem;*/
  height: 100vh;
  /*left: -20rem;*/
  left: -25rem;
  padding: 6rem 2rem 2rem 2rem;
  position: fixed;
  top: 0;
  width: 20rem;
  z-index: 1;
}

.nav.expanded { left: 0; }

.nav ul {
  position: absolute;
  top: 150px;
  /*top: 50%;*/
  /*position: relative;
  top: 100px;*/
  /*margin-top: 190px;*/
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-toggle {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  cursor: pointer;
  height: 2rem;
  /*left: 2rem;*/
  /*position: fixed;*/
  position: relative;
  /*top: 2rem;*/
  width: 3.6rem;
  z-index: 2;
}

.nav-toggle:hover { opacity: 0.8; }

.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -ms-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
  /*background: white;*/
  background: red;
  content: '';
  height: 0.4rem;
  width: 100%;
}

.nav-toggle .nav-toggle-bar { margin-top: 0; z-index: 1;}

.nav-toggle .nav-toggle-bar::after { margin-top: 0.8rem; }

.nav-toggle .nav-toggle-bar::before { margin-top: -0.8rem; }

.nav-toggle.expanded .nav-toggle-bar { background: transparent; }

.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {
  /*background: white;*/
  background: red;
  margin-top: 0;
}

.nav-toggle.expanded .nav-toggle-bar::after {
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.nav-toggle.expanded .nav-toggle-bar::before {
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
</style>


</head>
<body>


<header>

<div class="nav-toggle">
    <div class="nav-toggle-bar"></div>
</div>

<nav class="nav">
	<ul class="no-list-style menu">
		<li><a href='../../index.html'>Home</a></li>
		<li><!-- https://dev.to/aurelkurtula/introduction-to-redux-1g3 --></li>
		<li><!-- https://hackernoon.com/redux-step-by-step-a-simple-and-robust-workflow-for-real-life-apps-1fdf7df46092 --></li>
		<li><!-- https://flaviocopes.com/redux/ --></li>
		<li><!-- https://www.codementor.io/jesikahwhite/how-i-learned-react-bxp24gjzh --></li>
		<li><!-- https://www.codementor.io/mz026/getting-started-with-react-redux-an-intro-8r6kurcxf --></li>
		<li><!-- https://hackernoon.com/a-basic-react-redux-introductory-tutorial-adcc681eeb5e --></li>
		<li><!-- https://code.likeagirl.io/tutorial-for-adding-redux-to-a-react-app-1a94cc1738e5 --></li>
		<li><!-- https://www.javascriptfatigue.club/blog/2018/1/18/redux-fundamentals-using-redux-with-react-part-one --></li>
		<li><!-- https://www.pshrmn.com/tutorials/react/react-redux/ --></li>
		<li><!-- https://www.sohamkamani.com/blog/2017/03/31/react-redux-connect-explained/ --></li>
		<li><!-- https://appdividend.com/2017/08/23/redux-tutorial-example-scratch/ --></li>
		<li><!-- https://code.tutsplus.com/tutorials/getting-started-with-redux-why-redux--cms-30349 --></li>
		<li><!-- https://www.sitepoint.com/getting-started-redux/ --></li>
		<li><!-- https://codeburst.io/redux-actions-through-example-part-1-f5b2dc71de06 --></li>
		<li><!-- https://redux.js.org/basics/actions --></li>
	</ul>
</nav>

</header>

<main>
    <div class="row">
        <div class="small-12 medium-12 large-12 columns">

            <h1 class="heading">Redux</h1>

        </div>
    </div>
    <div class="row">
        <div class="small-12 medium-12 large-9 columns">

            <section class="padding-btm">
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Introduction</h2>
                <p>Redux is a JavaScript library to manage the state (or data) of your application, helping you to manage the data you display and how you respond to user actions. It's ideal for Single Page Applications (SPA).</p>
                <p>Redux is no relation to React. You can use Redux with React, Angular, Ember, jQuery, or vanilla JavaScript.</p>
                <p>A Google Chrome extension exists for Redux and can be installed from <a href='https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=en' target='_blank'>here</a></p>
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Install Redux</h2>
                <p>Redux can be installed using NPM (Node Package Manager). Open the terminal and enter the following command to install Redux as a dependency of your project. You will require a package.json file.</p>
                <p>Should you want to use Redux with React, use NPM to install react-redux as a dependency also. The react-redux module makes the connection between React and Redux.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ npm install redux --save

# For React install react-redux also
$ npm install react-redux --save
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Store</h2>
                <p>The store is one big JavaScript object that has key-value pairs. These pairs represent the current state of the application. Unlike state within React that is across different components, we only have one store that provides the application state. Each tme the state updates, the view re-renders.</p>
                <p>The store cannot be directly modified. The only way to do so is through the use of reducers.</p>
                <p>Redux has a createStore method to create a new store. Within the index.js file of your React application, add the following import statement to create the store:</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import { createStore } from 'redux'
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Now that the store has been created, we need to let our application know that the store exists. The react-redux library contains the Provider method. The Provider is wrapped around our App component to provide us with access to the Store throughout our entire application. It is a React component given to use by the react-redux library and is used to provide the store to it's child components.</p>
                <p>Let's update the index.js file to include the Provider:</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

ReactDOM.render (
   &lt;Provider&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Next, we will create the store itself using the createStore method that has been imported into the index.js file. A reducer will be passed into this method, but for now we will leave this empty. Within this method, you may optionally specify a second argument that sets the initial state of the store.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

// const store = createStore(reducer, initialState)
const store = createStore()

ReactDOM.render (
   &lt;Provider&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>The Provider is given the store as a prop:</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

// const store = createStore(reducer, initialState)
const store = createStore()

ReactDOM.render (
   &lt;Provider store={store}&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Reducers</h2>
                <p>The reducer is used to update the state. It should always be a pure function, so given a set of inputs, it should always return the same output.</p>
                <p>Let's create an empty function. This will be our reducer. The reducer will also be added as an argument of the createStore method.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

const reducer = function() {
   // Something goes here
}

const store = createStore(reducer)

ReactDOM.render (
   &lt;Provider store={store}&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>The reducer can now be updated to include two arguments. The first argument, state is the current data held in the store. This is returned by the function. The second argument of action is also added.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

const reducer = function(state, action) {
   return state
}

const store = createStore(reducer)

ReactDOM.render (
   &lt;Provider store={store}&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>The data kept in the Redux store can be accessed directly, but can only be updated via the supplied reducer. The state argument in the reducer contains the current data held in the store. The store currently has no data, so is undefined or null. To remedy this, just assign a default value to the state to make it an empty array.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const reducer = function(state=[], action) {
   return state
}
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Adding Data</h2>
                <p>Now that the reducer has been created, let's add some test data. We will also add a console.log to print out the current state in the console to confirm the store has some initial data.</p>
                <p>If you view the console, the contents of the store will be output.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: src&#x2F;index.js">
                    <pre>
                        <code>
<!-- Leave space here -->
import React from 'react'
import ReactDOM from 'react-dom'
import { createStore } from 'redux'
import { Provider } from 'react-redux'
import App from './components/App'

// Data
const initialState = {
   cart: [
      {
         product: 'bread 700g',
         quantity: 2,
         cost: 90
      },
      {
         product: 'milk 500ml',
         quantity: 1,
         cost: 47
      }
   ]
}

// Reducer
const reducer = function(state=initialState, action) {
   return state
}

// Store
const store = createStore(reducer)

console.log('initial state: ', store.getState())

ReactDOM.render (
   &lt;Provider store={store}&gt;
      &lt;App /&gt;
   &lt;/Provider&gt;,
   document.getElementById('root')
)
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Actions</h2>
                <p>Currently, our reducer does nothing. We need to define actions. Actions are simply JavaScript objects that send information (payloads of information) from your application to the store. They are the only source of information for the store. The state of the store only changes in response to an action.</p>
                <p>Each action must have a type property that describes what the action intends to do. Actions should be small to represent the minimum amount of information required to transform the application state.</p>
                <p>An optional payload property can also be included, although this property can be renamed to be something more meaningful, or you can omit it entirely.</p>
                <p>Information is sent to the store using store.dispatch</p>
            </section>

        </div>

        <div class="small-12 medium-12 large-3 columns">
        </div>
    </div>
</main>


<footer>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<ul class="list no-list-style">
				<li>&copy 2018 JTC</li>
			</ul>
		</div>
	</div>
</footer>

<script>
(function() {
    // https://www.cssscript.com/basic-hamburger-toggle-menu-css-vanilla-javascript/
  var hamburger = {
    navToggle: document.querySelector('.nav-toggle'),
    nav: document.querySelector('nav'),

    doToggle: function(e) {
      //e.preventDefault();
      this.navToggle.classList.toggle('expanded');
      this.nav.classList.toggle('expanded');
    }
  };

  hamburger.navToggle.addEventListener('click', function(e) { hamburger.doToggle(e); });
  hamburger.nav.addEventListener('click', function(e) { hamburger.doToggle(e); });

}());
</script>

</body>
</html>