<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <link rel="shortcut icon" type="image/ico" href="../../src/img/favicon/code.ico" />
    <title>Dev notes - JavaScript XMLHttpRequest</title>
    <link rel="stylesheet" href="../css/foundation.min.css" />
    <link rel="stylesheet" href="../css/style.min.css" />


<style>
header {
    background-color: #000;
    position: fixed;
    width: 100%;
}

main {
    padding-top: 50px;
}

.nav {
  -webkit-transition: left 0.5s ease;
  -moz-transition: left 0.5s ease;
  -ms-transition: left 0.5s ease;
  -o-transition: left 0.5s ease;
  transition: left 0.5s ease;
  /*background: #28dde0;*/
  background: #eee;
  color: white;
  cursor: pointer;
  /*font-size: 2rem;*/
  height: 100vh;
  /*left: -20rem;*/
  left: -25rem;
  padding: 6rem 2rem 2rem 2rem;
  position: fixed;
  top: 0;
  width: 20rem;
  z-index: 1;
}

.nav.expanded { left: 0; }

.nav ul {
  position: absolute;
  top: 150px;
  /*top: 50%;*/
  /*position: relative;
  top: 100px;*/
  /*margin-top: 190px;*/
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-toggle {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  cursor: pointer;
  height: 2rem;
  /*left: 2rem;*/
  /*position: fixed;*/
  position: relative;
  /*top: 2rem;*/
  width: 3.6rem;
  z-index: 2;
}

.nav-toggle:hover { opacity: 0.8; }

.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -ms-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
  /*background: white;*/
  background: red;
  content: '';
  height: 0.4rem;
  width: 100%;
}

.nav-toggle .nav-toggle-bar { margin-top: 0; z-index: 1;}

.nav-toggle .nav-toggle-bar::after { margin-top: 0.8rem; }

.nav-toggle .nav-toggle-bar::before { margin-top: -0.8rem; }

.nav-toggle.expanded .nav-toggle-bar { background: transparent; }

.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {
  /*background: white;*/
  background: red;
  margin-top: 0;
}

.nav-toggle.expanded .nav-toggle-bar::after {
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.nav-toggle.expanded .nav-toggle-bar::before {
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
</style>


</head>
<body>


<header>

<div class="nav-toggle">
    <div class="nav-toggle-bar"></div>
</div>

<nav class="nav">
	<ul class="no-list-style menu">
		<li><a href='../../index.html'>Home</a></li>
		<li><a href='javascript.html'>JavaScript</a></li>
	</ul>
</nav>

</header>

<main>
    <div class="row">
        <div class="small-12 medium-12 large-12 columns">

            <h1 class="heading">XMLHttpRequest</h1>

        </div>
    </div>
    <div class="row">
        <div class="small-12 medium-12 large-9 columns">

            <section class="padding-btm">
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Introduction to XMLHttpRequest</h2>
                <p>The XMLHttpRequest (XHR) object is used to make HTTP requests - ftp and file protocols are also supported - and interact with servers. In AJAX programming, it is used to retrieve data without having to do a full page refresh. This enables a web page to update part of the page without disrupting the user experience. We can also use XMLHttpRequest to open a connection to third-party APIs.</p>
                <p>XMLHttpRequest is widely supported by browsers to allow requests to be made. A newer Fetch API is available which can be used for the same purpose, but currently this is not supported by all browsers.</p>
                <p>Despite it's name, XMLHttpRequest can be used to retrieve any type of data, not just XML.</p>
                <p>To begin, we create a new XMLHttpRequest object. In this example, the object will be stored in a variable named xhttp</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>var</span> <span class='name'>xhttp</span> = <span class='keyword'>new</span> XMLHttpRequest();
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>It is sometimes worthwhile to check if a request can be made and whether an XMLHttpRequest object can be created.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>var</span> <span class='name'>xhttp</span> = <span class='keyword'>new</span> XMLHttpRequest();

<span class='keyword'>if</span> ( !<span class='name'>xhttp</span> ) {
    console.log( <span class='value'>'Unable to create XMLHttpRequest object'</span> );
} <span class='keyword'>else</span> {
    console.log( <span class='value'>'Object has been created'</span> );
}
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>We don't necessarily need the else statement, as this following example demonstrates.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='keyword'>var</span> <span class='name'>xhttp</span> = <span class='keyword'>new</span> XMLHttpRequest();

<span class='keyword'>if</span> ( !<span class='name'>xhttp</span> ) {
    console.log( <span class='value'>'Unable to create XMLHttpRequest object'</span> );
    <span class='return'>return</span> <span class='value'>false</span>;
}
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Making a request</h2>
                <p>To make a request the open and send methods of the XMLHttpRequest object are used.</p>
                <p>The first parameter of the open method can be: GET, POST, HEAD, or another method that maybe supported by the server. The method needs to be uppercase to follow the HTTP standard.</p>
                <p>The second paremeter of the open method is the URL you're sending the request to. The exact domain is needed or a 'permission denied' error will be returned.</p>
                <p>The optional third parameter sets whether the request is asynchronous. It is set to 'true' by default. JavaScript execution will continue and the user will interact with the page while the server response is being returned.</p>
                <p>The paremeter in the send method can be any data you want to send to the server. This can be data entered in a form, for example. Form data should be sent in a format that the server can parse, like a query string.</p>
                <p><!--https://stackoverflow.com/questions/3038901/how-to-get-the-response-of-xmlhttprequest--></p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript">
                    <pre>
                        <code>
<!-- Leave space here -->
<span class='name'>xhttp</span>.<span class='keyword'>open</span>( <span class='value'>'GET'</span>, <span class='value'>'http://www.example.org/some.file'</span>, <span class='value'>true</span> );
<span class='name'>xhttp</span>.<span class='keyword'>send</span>();
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>

        </div>

        <div class="small-12 medium-12 large-3 columns">
        </div>
    </div>
</main>


<footer>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<ul class="list no-list-style">
				<li>&copy 2018 JTC</li>
			</ul>
		</div>
	</div>
</footer>

<script>
(function() {
    // https://www.cssscript.com/basic-hamburger-toggle-menu-css-vanilla-javascript/
  var hamburger = {
    navToggle: document.querySelector('.nav-toggle'),
    nav: document.querySelector('nav'),

    doToggle: function(e) {
      //e.preventDefault();
      this.navToggle.classList.toggle('expanded');
      this.nav.classList.toggle('expanded');
    }
  };

  hamburger.navToggle.addEventListener('click', function(e) { hamburger.doToggle(e); });
  hamburger.nav.addEventListener('click', function(e) { hamburger.doToggle(e); });

}());
</script>

</body>
</html>