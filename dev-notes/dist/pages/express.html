<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <link rel="shortcut icon" type="image/ico" href="../../src/img/favicon/code.ico" />
    <title>Dev notes - Express.js</title>
    <link rel="stylesheet" href="../css/foundation.min.css" />
    <link rel="stylesheet" href="../css/style.min.css" />


<style>
header {
    background-color: #000;
    position: fixed;
    width: 100%;
}

.nav {
  -webkit-transition: left 0.5s ease;
  -moz-transition: left 0.5s ease;
  -ms-transition: left 0.5s ease;
  -o-transition: left 0.5s ease;
  transition: left 0.5s ease;
  /*background: #28dde0;*/
  background: #eee;
  color: white;
  cursor: pointer;
  /*font-size: 2rem;*/
  height: 100vh;
  /*left: -20rem;*/
  left: -25rem;
  padding: 6rem 2rem 2rem 2rem;
  position: fixed;
  top: 0;
  width: 20rem;
  z-index: 1;
}

.nav.expanded { left: 0; }

.nav ul {
  position: absolute;
  top: 150px;
  /*top: 50%;*/
  /*position: relative;
  top: 100px;*/
  /*margin-top: 190px;*/
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-toggle {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  cursor: pointer;
  height: 2rem;
  /*left: 2rem;*/
  /*position: fixed;*/
  position: relative;
  /*top: 2rem;*/
  width: 3.6rem;
  z-index: 2;
}

.nav-toggle:hover { opacity: 0.8; }

.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -ms-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
  /*background: white;*/
  background: red;
  content: '';
  height: 0.4rem;
  width: 100%;
}

.nav-toggle .nav-toggle-bar { margin-top: 0; z-index: 1;}

.nav-toggle .nav-toggle-bar::after { margin-top: 0.8rem; }

.nav-toggle .nav-toggle-bar::before { margin-top: -0.8rem; }

.nav-toggle.expanded .nav-toggle-bar { background: transparent; }

.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {
  /*background: white;*/
  background: red;
  margin-top: 0;
}

.nav-toggle.expanded .nav-toggle-bar::after {
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.nav-toggle.expanded .nav-toggle-bar::before {
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
</style>


</head>
<body>


<header>

<div class="nav-toggle">
    <div class="nav-toggle-bar"></div>
</div>

<nav class="nav">
	<ul class="no-list-style menu">
		<li><a href='../../index.html'>Home</a></li>
		<li><!-- https://www.callicoder.com/node-js-express-mongodb-restful-crud-api-tutorial/ --></li>
		<li><!-- https://github.com/callicoder/node-easy-notes-app --></li>
		<li><!-- https://medium.freecodecamp.org/building-a-simple-node-js-api-in-under-30-minutes-a07ea9e390d2 --></li>
		<li><!-- https://scotch.io/courses/create-a-crud-app-with-node-and-mongodb/getting-started --></li>
		<li><!-- https://medium.com/javascript-scene/introduction-to-node-express-90c431f9e6fd --></li>
		<li><!-- https://github.com/motdotla/dotenv --></li>
		<li><!-- https://stackoverflow.com/questions/6528876/how-to-redirect-404-errors-to-a-page-in-expressjs --></li>
	</ul>
</nav>

</header>

<main>
    <div class="row">
        <div class="small-12 medium-12 large-12 columns">

            <h1 class="heading">Express.js</h1>

        </div>
    </div>
    <div class="row">
        <div class="small-12 medium-12 large-9 columns">

            <section class="padding-btm">
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Introduction</h2>
                <p>Express is a web framework for Node.js. It is built on top of the Node.js http module, and adds support for routing and middleware.</p>
                <p>Express versions 2.x and 3.x are no longer maintained. The current Express version 4.x should be used for any new projects.</p>
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Install</h2>
                <p>NPM (Node Package Manager) is required before you can install Express.js. By default NPM version 5.0 and later adds the module to the dependencies list in the package.json file. Earlier versions of NPM need to have the --save option.</p>
                <p>You will also need a package.json file within your project.</p>
                <p>Open the terminal and enter the following command to install Express as a dependency within your project:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
# Create a package.json file quickly
$ npm init -y

$ npm install express --save
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Server: Hello World</h2>
                <p>The 'Hello World' example is the simplest Express app you can build. The app starts a server and listens on port 3000 for any connections. The app responds with 'Hello World' for requests to the root URL (/) or route. For any other path, it will respond with a 404 Not Found.</p>
                <p>This server is powered by RunKit which provides a Node enviornment within your browser.</p>
                <p>Here the example is using ES6 JavaScript syntax. ES5 syntax can also be used.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: app.js">
                    <pre>
                        <code>
<!-- Leave space here -->
const express = require('express')
// Create the Express app
const app = express()

// ES6 arrow function
app.get('/', (req, res) => res.send('Hello World'))

app.listen(3000, () => console.log('Example app listening on port 3000'))
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Run the app with the following command then load <a href='http://localhost:3000/' target='_blank'>http://localhost:3000/</a> in the browser to see the output:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ node app.js
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Routing</h2>
                <p>Routing refers to how an application responds to a request to a particular endpoint (URI/path) and a specific HTTP request method (GET/POST).</p>
                <p>The following examples illustrate defining simple routes within the app.js file created earlier.</p>
                <p>You will have to restart the server each time a change has been made.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: app.js">
                    <pre>
                        <code>
<!-- Leave space here -->
// ES5 syntax
app.get('/', function (req, res) {
   res.send('Hello World')
})

// ES6 syntax
app.get('/', (req, res) => res.send('Hello World'))

// http://localhost:3000/about
app.get('/about', (req, res) => res.send('This is the about page'))
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>To define routes with router parameters, simply specify the route parameters in the path of the route. The two examples below show 'books' and 'flights'.</p>
                <p>This will return a JSON object with key/value pairs within the browser.</p>
                <!-- Code example -->
                <div class="code-block" rel="js" data-title="JavaScript: app.js">
                    <pre>
                        <code>
<!-- Leave space here -->
// http://localhost:3000/users/34/books/8989
app.get('/users/:userId/books/:bookId', (req, res) => res.send(req.params))

// http://localhost:3000/flights/LAX-SFO
app.get('/flights/:from-:to', (req, res) => res.send(req.params))
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <h2 class="heading padding-btm border-btm">Nodemon</h2>
                <p>You can install the Nodemon package as a devDependency. It's a simple package that automatically restarts your server when files change.</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ npm install nodemon --save-dev
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Once Nodemon has been installed, update the package.json file:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
"scripts": {
   "test": "echo "Error: no test specified" && exit 1",
   "dev": "nodemon app.js"
},
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>
            <section class="padding-btm">
                <p>Run Nodemon:</p>
                <!-- Code example -->
                <div class="code-block" rel="" data-title="">
                    <pre>
                        <code>
<!-- Leave space here -->
$ npm run dev
                        </code>
                    </pre>
                </div>
                <!-- / Code example -->
            </section>

        </div>

        <div class="small-12 medium-12 large-3 columns">
        </div>
    </div>
</main>


<footer>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<ul class="list no-list-style">
				<li>&copy 2018 JTC</li>
			</ul>
		</div>
	</div>
</footer>

<script>
(function() {
    // https://www.cssscript.com/basic-hamburger-toggle-menu-css-vanilla-javascript/
  var hamburger = {
    navToggle: document.querySelector('.nav-toggle'),
    nav: document.querySelector('nav'),

    doToggle: function(e) {
      //e.preventDefault();
      this.navToggle.classList.toggle('expanded');
      this.nav.classList.toggle('expanded');
    }
  };

  hamburger.navToggle.addEventListener('click', function(e) { hamburger.doToggle(e); });
  hamburger.nav.addEventListener('click', function(e) { hamburger.doToggle(e); });

}());
</script>

</body>
</html>