<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Dev Notes - Node</title>
	<link rel="stylesheet" href="styles/foundation.min.css" />
	<link rel="stylesheet" href="styles/style.min.css" />
</head>
<body>

<header>
	<div class="row">
		<div class="small-12 medium-12 large-12 columns">
			<div class="header__icon header__icon--js">
				<span class="header__icon--marks">&lt; &gt;</span>
			</div>
		</div>
	</div>
</header>

<div class="row">
	<div class="small-12 medium-12 large-12 columns">

		<h1>Node</h1>

		<h2>NPM - Node Package Manager</h2>

		<p><strong>Node Package Manager (NPM)</strong> provides an online repository for Node.js packages/modules and uses the command line to both install and manage these packages.</p>

		<h2>Install Node &amp; NPM</h2>

		<p>The <strong>version</strong> of Node installed can be confirmed within the terminal:</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ node <span class="syntax-keyword">--version</span>

<span class="syntax-comment"># or</span>
$ node <span class="syntax-keyword">-v</span>
			</code>
		</pre>
		<!-- / Code example -->

		<p>NPM is installed when you install <strong>Node.js</strong>. To confirm the version of NPM currently installed, use the following command:</p>	

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ npm <span class="syntax-keyword">--version</span>

<span class="syntax-comment"># or</span>
$ npm <span class="syntax-keyword">--v</span>
$ npm <span class="syntax-keyword">-v</span>
			</code>
		</pre>
		<!-- / Code example -->

		<h2>Install NPM Packages</h2>

		<p>To install one or more packages, use the following:</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ npm <span class="syntax-keyword">install</span> &lt;<span class="syntax-value">package-name</span>&gt;

<span class="syntax-comment"># or</span>
$ npm <span class="syntax-keyword">i</span> &lt;<span class="syntax-value">package-name</span>&gt;

<span class="syntax-comment"># Example: install the node-sass NPM package</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">node-sass</span>
<span class="syntax-comment"># Example: install the node-sass and nodemon NPM packages</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">node-sass nodemon</span>

<span class="syntax-comment"># Example: add entry to your package.json file as a dependency</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">node-sass</span> <span class="syntax-keyword">--save</span>
<span class="syntax-comment"># Example: add entry to your package.json file as a devDependency</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">node-sass</span> <span class="syntax-keyword">--save-dev</span>

			</code>
		</pre>
		<!-- / Code example -->

		<p>When an NPM package is installed, it is placed within a <span class="hl">node_modules</span> folder/directory within the project root.</p>

		<p>If you are installing packages used for development, they can be installed as a <span class="hl">devDependency</span>. Packages only used in the development phase need to be added to the <span class="hl">package.json</span> file as a <span class="hl">devDependency</span>, otherwise they can be installed as a <strong>dependency</strong>.</p>

		<ul>
			<li><span class="hl">Dependency</span> - Packages you will need (cannot work without) when the app/website is deployed.</li>
			<li><span class="hl">devDependency</span> - Packages you need during development, such as a build tool (Gulp, Grunt), used to compile your code are installed as a <span class="hl">devDependency</span> within the <span class="hl">package.json</span> file as other developers don't really need to worry about them too much.</li>
		</ul>

		<blockquote>
			<p>The <span class="hl">node_modules</span> folder should not be committed to Git/GitHub, but instead use a <span class="hl">.gitignore</span> file to ignore <strong>node_modules</strong> from being included in any version control.</p>
		</blockquote>


		<h2>The package.json file</h2>

		<p>A <span class="hl">package.json</span> file, usually placed in the <strong>root</strong> of the project, contains <strong>metadata</strong> about the project and a list of <strong>dependencies</strong> to install from NPM when running the <span class="hl">npm install</span> command.</p> This instruction will look for any packages listed as dependencies within the <strong>package.json</strong> file and install them within a <span class="hl">node_modules</span> folder inside of the project root.</p>

		<p>To create a <strong>package.json</strong> file, enter the following command in the <strong>root</strong> of your project folder/directory, and follow the instructions within the terminal.</p>

		<p>The <strong>package.json</strong> file should be the first thing added to a project before you can install any NPM packages or modules.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ npm <span class="syntax-keyword">init</span>
			</code>
		</pre>
		<!-- / Code example -->

		<p>When NPM packages are installed, they will be listed as <span class="hl">Dependencies</span> or <span class="hl">devDependencies</span> within the <strong>package.json</strong> file and installed within the <span class="hl">node_modules</span> folder/directory. If <strong>node_modules</strong> is not showing, we can use NPM to install all packages listed within the <strong>package.json</strong> file.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ npm <span class="syntax-keyword">install</span>
			</code>
		</pre>
		<!-- / Code example -->		

		<h2>Shrinkwrap</h2>

		<p>Applying a shrinkwrap allows you to <strong>lock down</strong> NPM package dependency versions preventing a package from being updated automatically when using <span class="hl">npm install</span>. This allows you to control exactly which version of each dependency will be used when your package is installed. By default, <span class="hl">npm install</span> will install the latest available version of the NPM package listed as a dependency in your <strong>package.json</strong> file. By applying a shrinkwrap, this can be restricted allowing packages to be updated manually and preventing any conflicts/issues arising should a package be updated to a newer version.</p>

		<p>The <strong>package.json</strong> file is required to allow the shrinkwrap to be applied.</p>

		<p>To apply a shrinkwrap, use the following command:</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
<span class="syntax-comment"># shrinkwrap the dependencies listed in the package.json file</span>
$ npm <span class="syntax-keyword">shrinkwrap</span>

<span class="syntax-comment"># shrinkwrap devDependencies listed in the package.json file</span>
$ npm <span class="syntax-keyword">shrinkwrap --dev</span>
			</code>
		</pre>
		<!-- / Code example -->		

		<p>This generates a <span class="hl">npm-shrinkwrap.json</span> file containing the shrinkwrap. This has locked down the dependencies based on what's currently installed in the <span class="hl">node_modules</span> folder/directory.</p>

		<p>Using <span class="hl">npm install</span> will now install the version of the NPM packages listed in the <span class="hl">npm-shrinkwrap.json</span> file.</p>

		<h2>Update Packages</h2>

		<p>Once a package has been installed, and possibly shrinkwrapped, there may come a time when you need to update it to a newer version. This can be done manually using NPM.</p>

		<p>Begin by confirming which packages are outdated, and once confirmed, you can then look at updating it. Running the <strong>install</strong> command (below) will update the version in both the <span class="hl">package.json</span> and <span class="hl">npm-shrinkwrap.json</span> files.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
<span class="syntax-comment"># Check the version of babel-core currently installed</span>
$ npm <span class="syntax-keyword">view</span> <span class="syntax-value">babel-core</span> <span class="syntax-keyword">version</span>

<span class="syntax-comment"># List which package versions are outdated</span>
$ npm <span class="syntax-keyword">outdated</span>

<span class="syntax-comment"># Update babel-core package to version 6.24.0 (Dependency)</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">babel-core@6.24.0</span> <span class="syntax-keyword">--save</span>
<span class="syntax-comment"># Update babel-core package to version 6.24.0 (devDependency)</span>
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">babel-core@6.24.0</span> <span class="syntax-keyword">--save-dev</span>
			</code>
		</pre>
		<!-- / Code example -->	

		<h2>Example: Compile SCSS using NPM</h2>

		<p>Following everything learnt so far, we will now create a simple example using NPM to compile SCSS code into CSS. Begin by creating a directory/folder on your desktop where we can build this simple example. The comments added do not need to be entered into the terminal - they are simply added to explain what is being done.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ <span class="syntax-keyword">cd</span> desktop
$ <span class="syntax-keyword">mkdir</span> compile-scss
$ <span class="syntax-keyword">cd</span> compile-scss
$ <span class="syntax-keyword">mkdir</span> src
$ <span class="syntax-keyword">mkdir</span> dist
			</code>
		</pre>
		<!-- / Code example -->	

		<p>You should now have a folder/directory on the desktop called <span class="hl">compile-scss</span> containing two folders - <span class="hl">src</span> and <span class="hl">dist</span>.</p>	

		<p>Begin by creating a <span class="hl">package.json</span> file in the root of the <span class="hl">compile-scss</span> folder/directory (enter one command):</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
<span class="syntax-comment"># Create a custom package.json file - follow instructions in the terminal</span>
$ npm <span class="syntax-keyword">init</span>

<span class="syntax-comment"># OR, generate a default package.json file</span>
$ npm <span class="syntax-keyword">init --yes</span>
<span class="syntax-comment"># OR, An alternative to using the --yes flag</span>
$ npm <span class="syntax-keyword">init -y</span>
			</code>
		</pre>
		<!-- / Code example -->	

		<p>The <span class="hl">compile-scss</span> directory/folder should now contain a <span class="hl">package.json</span> file. Now, install the <span class="hl">node-sass</span> NPM package as a <span class="hl">devDependency</span> using NPM. This will create a <span class="hl">node_modules</span> folder/directory inside of our project folder.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
$ npm <span class="syntax-keyword">install</span> <span class="syntax-value">node-sass</span> <span class="syntax-keyword">--save-dev</span>
			</code>
		</pre>
		<!-- / Code example -->	

		<p>Open the <span class="hl">package.json</span> file and in the scripts object, add the following code so we can run <span class="hl">node-sass</span> to compile our SCSS code into CSS:</p>

		<!-- Code example -->
		<div class="code" rel="js" data-title="package.json">
			<pre>
				<code>
<!-- Leave this line empty -->
<span class="syntax-property">"scripts"</span>: {
	<span class="syntax-property">"test"</span>: <span class="syntax-value">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,
	<span class="syntax-property">"build-css"</span>: <span class="syntax-value">"node-sass --include-path scss src/main.scss dist/main.css"</span>
},
				</code>
			</pre>
		</div>
		<!-- / Code example -->	

		<p>Next, in the src folder/directory within <span class="hl">compile-scss</span>, add a simple SCSS file and save it as <span class="hl">main.scss</span></p>

		<!-- Code example -->
		<div class="code" rel="scss" data-title="SCSS: src/main.scss">
			<pre>
				<code>
<!-- Leave this line empty -->
<span class="syntax-property">$bg-color</span>: <span class="syntax-value">#badaba</span>;

<span class="syntax-keyword">body</span> { 
	<span class="syntax-property">margin</span>: <span class="syntax-value">0</span>; 
	<span class="syntax-property">background-color</span>: <span class="syntax-value">$bg-color</span>; 
}
				</code>
			</pre>
		</div>
		<!-- / Code example -->

		<p>To compile the SCSS code into CSS, run the following command in the terminal. This will run the <span class="hl">node-sass</span> NPM package to compile the <span class="hl">main.scss</span> SCSS file into a CSS file named <span class="hl">main.css</span> within the dist folder/directory inside the <span class="hl">compile-scss</span> project.</p>

		<!-- Code example -->
		<pre>
			<code>
<!-- Leave this line empty -->
<span class="syntax-comment"># Run the scripts task - 'build-css' using NPM</span>
$ npm <span class="syntax-keyword">run</span> <span class="syntax-value">build-css</span>
			</code>
		</pre>
		<!-- / Code example -->	

	</div>
</div>

<footer>
	<div class="row">
		<div class="small-12 medium-6 large-2 columns">
			<h3>Languages</h3>

			<ul class="no-bullets">
				<li><a href="index.html" class="footer__link">HTML</a></li>
				<li><a href="dev-css.html" class="footer__link">CSS</a></li>
				<li><a href="dev-scss.html" class="footer__link">SCSS &amp; Sass</a></li>
				<li><a href="dev-js.html" class="footer__link">JavaScript</a></li>
				<li><a href="dev-php.html" class="footer__link">PHP</a></li>
				<li><a href="dev-python.html" class="footer__link">Python</a></li>
				<li><a href="dev-ruby.html" class="footer__link">Ruby</a></li>
			</ul>
		</div>

		<div class="small-12 medium-6 large-2 columns">
			<h3>Tools</h3>

			<ul class="no-bullets">
				<li><a href="dev-node.html" class="footer__link">Node</a></li>
			</ul>
		</div>

		<div class="small-12 medium-6 large-2 columns">
			<h3>Frameworks</h3>

			<ul class="no-bullets">
				<li><a href="dev-jquery.html" class="footer__link">jQuery</a></li>
			</ul>
		</div>

		<div class="small-12 medium-6 large-2 columns">
			<h3>Other</h3>

			<ul class="no-bullets">
				<li><a href="dev-bem.html" class="footer__link">BEM</a></li>
			</ul>
		</div>

		<div class="small-2 medium-2 large-2 columns">
			<!-- Empty column -->
		</div>
	</div>
</footer>

</body>
</html>