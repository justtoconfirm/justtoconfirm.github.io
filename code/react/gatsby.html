<!DOCTYPE html>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="An introductory guide to Gastby">

	<title>Code | React | Gatsby</title>

	<link rel="shortcut icon" type="image/ico" href="../favicon/code.ico">
	<link rel="stylesheet" href="../dist/css/main.css">
	<link rel="preload" href="../fonts/darker-grotesque-v2-latin/darker-grotesque-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
</head>
<body>

	<header role="banner">
		<a href="../index.html">Home</a>

		<nav>
			<ul class="nav-list">
				<!-- -->
			</ul>

			<div class="hamburger">
				<span class="bar"></span>
				<span class="bar"></span>
				<span class="bar"></span>
			</div>
		</nav>
	</header>

	<div class="menu">
		<ul class="menu__list">
			<!--<li class="menu__list-item">

			</li>-->
		</ul>
	</div>

	<main role="main">

		<div class="intro">

			<div class="container">
				<div class="row">
					<div class="column">

						<h1 class="intro__heading">Gatsby</h1>

						<p class="intro__copy">Gatsby is a React-based, open-source framework for creating websites and web applications.</p>

					</div><!-- / column -->
				</div><!-- / row -->
			</div><!-- / container -->

		</div><!-- / intro -->

		<div class="container">
			<div class="row">
				<div class="column">
					<section>
						<h2>Introduction</h2>

						<p>Gatsby is a framework rather than a library because it comes with everything included out-of-the-box, including Routing, Data Management, build process, and much more.</p>

						<p>Gatsby uses a few technologies under the hood:</p>

						<ul>
							<li><strong>React</strong> - A JavaScript library for building user interfaces. React is used to build pages and structure content.</li>
							<li><strong>GraphQL</strong> - A query language that allows us to pull data into our website. GraphQL is used by Gatsby for managing site data.</li>
						</ul>

						<p>React is the JavaScript library that Gatsby uses under the hood to create User Interfaces (UI). With React, we can break down our UI into smaller, reusable pieces called <strong>components</strong>.</p>
					</section>

					<section>
						<h2>Install Gatsby</h2>

						<p>We need to have Node version <strong>12.13.0</strong> or later to be installed to run Gatsby. The Gatsby CLI (Command Line Interface) tool is a published npm package which means we can install it using npm. To install Gatsby we need to globally install Gatsby CLI version 3 or later.</p>

						<p>The Gatsby CLI is a tool that lets us quickly create new Gatsby sites and run commands during development. The npm package is named <strong>gatsby-cli</strong>.</p>

<!-- Terminal -->
<div class="terminal terminal--shadow">
	<div class="terminal__top">
		<div class="terminal__buttons">
			<span class="terminal__circle terminal__circle--red"></span>
			<span class="terminal__circle terminal__circle--yellow"></span>
			<span class="terminal__circle terminal__circle--green"></span>
		</div>
		<div class="terminal__title">bash -- 85x24</div>
	</div>
	<pre class="terminal__body">

	npm install gatsby-cli -g
    
	</pre>
</div>
<!-- / Terminal --> 

						<p>Once installed, we can check the version of Gatsby CLI.</p>

<!-- Terminal -->
<div class="terminal terminal--shadow">
	<div class="terminal__top">
		<div class="terminal__buttons">
			<span class="terminal__circle terminal__circle--red"></span>
			<span class="terminal__circle terminal__circle--yellow"></span>
			<span class="terminal__circle terminal__circle--green"></span>
		</div>
		<div class="terminal__title">bash -- 85x24</div>
	</div>
	<pre class="terminal__body">

	npm gatsby --version
    
	</pre>
</div>
<!-- / Terminal --> 
					</section>

					<section>
						<h2>Creating a Gatsby site</h2>

						<p>Once Gatsby CLI has been installed we can use the CLI tool to setup a Gatsby site.</p>

						<p>This will start-up the interactive prompt to assist us with creating our Gatsby site. Once the configuration has completed we should have our new Gatsby site. The configuration will generate the folder and allow us to set the name of our application and any further initial settings.</p>

<!-- Terminal -->
<div class="terminal terminal--shadow">
	<div class="terminal__top">
		<div class="terminal__buttons">
			<span class="terminal__circle terminal__circle--red"></span>
			<span class="terminal__circle terminal__circle--yellow"></span>
			<span class="terminal__circle terminal__circle--green"></span>
		</div>
		<div class="terminal__title">bash -- 85x24</div>
	</div>
	<pre class="terminal__body">

	gatsby new
    
	</pre>
</div>
<!-- / Terminal --> 
					</section>

					<section>
						<h2>File Structure</h2>

						<p>Once created, the file structure of our Gatsby site should look like this:</p>

<pre>
	<code>

project /
	|__node_modules /
	|__src /
		|__components /
			header.js
			layout.css
			layout.js
			seo.js
		|__images /
			gatsby-astronaut.png
			gatsby-icon.png
		|__pages /
			404.js
			index.js
			page-2.js
			using-ssr.js
			using-typescript.tsx
	.gitignore
	.prettierignore
	.prettierrc
	gatsby-browser.js
	gatsby-config.js
	gatsby-node.js
	gatsby-ssr.js
	LICENCE
	package-lock.json
	package.json
	README.md

	</code>
</pre>
					</section>

					<section>
						<h2>Running Gatsby</h2>

						<p>Now that the Gatsby website is setup and installed, we can begin development.</p>

						<p>First, we can change into the project directory when the Gatsby site is located from within the terminal and run our Gatsby application locally on the local server.</p>

						<p>Gatsby has a development server build-in so we can view the site in our browser locally. After a few moments the command-line should output a message confirming the development server is running.</p>

						<p>Open your web browser and navigate to: <a href="http://localhost:8000/" target="_blank" rel="noopener noreferrer">http://localhost:8000/</a>

<!-- Terminal -->
<div class="terminal terminal--shadow">
	<div class="terminal__top">
		<div class="terminal__buttons">
			<span class="terminal__circle terminal__circle--red"></span>
			<span class="terminal__circle terminal__circle--yellow"></span>
			<span class="terminal__circle terminal__circle--green"></span>
		</div>
		<div class="terminal__title">bash -- 85x24</div>
	</div>
	<pre class="terminal__body">

	npm run develop
    
	</pre>
</div>
<!-- / Terminal --> 

						<p>To stop the development server running, use <strong>CTRL + C</strong>.</p>
					</section>

					<section>
						<h2>Pages</h2>

						<p>All pages within our Gatsby website are located within the <strong>src/pages</strong> directory inside our project folder. Initially there will be two pages, the homepage as <strong>src/index.js</strong>, and a 404 page named <strong>src/404.js</strong></p>

<pre>
	<code>

project /
	|__src /
		|__pages /
			404.js
			index.js

	</code>
</pre>

						<p>Pages in Gatsby are built using React functional components and are referred to as <strong>Page Components</strong>.</p>

						<p>Gatsby automatically creates pages for React components that are the default export of files in the <strong>src/pages</strong> directory.</p>

						<p>If pages are updated or new pages added, the development server will reload and the changes will be visible.</p>

						<h3>Create Pages</h3>

						<p>Pages in Gatsby are React components built using JavaScript. To add a new page, create a file named <strong>about.js</strong> in the <strong>src</strong> directory. This will be an About us page.</p>

<pre>
	<code>

import * as React from 'react';

const AboutPage = () => {
	return (

		&lt;h1&gt;About us&lt;/h1&gt;

	)
};

export default AboutPage;

	</code>
</pre>

						<p>Our newly created About us page can be accessed: <a href="http://localhost:8000/about" target="_blank" rel="noopener noreferrer">http://localhost:8000/about</a>
					</section>

					<section>
						<h2>Links</h2>

						<p>Gatsby has a built-in component for links. This is a pre-built component that is defined and maintained by the Gatsby package so we can import and use it within our pages and components.</p>

						<p>The link component allows us to link to our pages within our Gatsby site. This link component has a prop called <strong>to</strong> which is similar to the <strong>href</strong> attribute within HTML link elements. The value within the <strong>to</strong> prop should be the URL path to the page we want to link to.</p>

						<p>External links should use the regular HTML anchor element.</p>

						<p>We first need to import the Link component to use it:</p>

<pre>
	<code>

import { Link } from 'gatsby';

	</code>
</pre>	

						<p>Once the Link component is imported, we can use it:</p>

<pre>
	<code>

&lt;Link to="/"&gt;Home&lt;/Link&gt;
&lt;Link to="/about"&gt;About us&lt;/Link&gt;

	</code>
</pre>	
					</section>

					<section>
						<h2>Data Layer & GraphQL</h2>

						<p>Gatsby has a feature called the <strong>data layer</strong> that allows us to pull data into our site from external sources.</p>

						<p>The data layer is powered by a technology called <strong>GraphQL</strong>.</p>

						<p>Gatsby creates an endpoint that allows us to explore the data layer using an in-browser tool called <strong>GraphiQL</strong>: <a href="http:://localhost:8000/___graphql" target="_blank" rel="noopener noreferrer">http:://localhost:8000/___graphql</a>. We can use this IDE tool to test our GraphQL queries before we add them into our components and explore our site's data and schema.</p> 

						<p>All the data we need for our site is kept within the data layer and accessed by Gatsby. Within the data layer we can combine data from multiple sources.</p>

						<img src="img/data-layer.png" alt="Digram showing the data layer">

						<p>Examples of data:</p>

						<ul>
							<li>Headless CMS, for example: WordPress CMS, ContentStack, or Magnolia.</li>
							<li>Database</li>
							<li>Shopify containing all your products for an eCommerce store.</li>
							<li>Data within Airtable.</li>
							<li>JSON from a payment processor.</li>
							<li>Markdown</li>
						</ul>
					</section>

					<section>
						<h2>Production</h2>

						<p>Once development is completed on our Gatsby website we can create a production build. To create a production build, stop the development server and execute the following command in the terminal:</p>

<!-- Terminal -->
<div class="terminal terminal--shadow">
	<div class="terminal__top">
		<div class="terminal__buttons">
			<span class="terminal__circle terminal__circle--red"></span>
			<span class="terminal__circle terminal__circle--yellow"></span>
			<span class="terminal__circle terminal__circle--green"></span>
		</div>
		<div class="terminal__title">bash -- 85x24</div>
	</div>
	<pre class="terminal__body">

	npm run build
    
	</pre>
</div>
<!-- / Terminal --> 

						<p>This will create the production build of our site and will output the static files into the <strong>public</strong> directory.</p>
					</section>
				</div>
			</div>
		</div>

	</main>

	<footer>
		&copy;2022.
	</footer>

	<script src="../dist/js/menu.js"></script>

</body>
</html>