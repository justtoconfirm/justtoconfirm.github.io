<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Developer Notes - React</title>

    <link rel="shortcut icon" type="image/ico" href="img/favicon/code.ico" />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="preload" href="fonts/nunito-v9-latin-regular.woff2" as="font" type="font/woff2" crossorigin />
</head>
<body>

<!-- https://www.codecademy.com/articles/react-setup-i -->
<!-- https://codepen.io/_danko/pen/EypdyW -->
<!-- https://www.taniarascia.com/getting-started-with-react/ -->
<!-- https://reactjs.org/docs/fragments.html -->
<!-- https://www.sitepoint.com/react-architecture-best-practices/ -->
<!-- https://www.sitepoint.com/6-pro-tips-from-react-developers/ -->
<!-- https://hackernoon.com/reactjs-component-lifecycle-methods-a-deep-dive-38275d9d13c0 -->

<!-- React Checkboxes -->
<!-- https://medium.com/@wlodarczyk_j/handling-multiple-checkboxes-in-react-js-337863fd284e -->

<!-- https://blog.bitsrc.io/achieving-accessibility-in-react-applications-d762f8f2a3e7 -->

<!-- Prop Types -->
<!-- https://medium.com/@stevenpaulino1/typechecking-with-react-proptypes-6c8f46d78b8a -->

<!-- https://medium.com/@albertchu539/how-to-make-an-app-drawer-with-react-hooks-and-css-1338ae57afb4 -->

<!-- https://medium.com/@sambgamage/beginners-guide-to-react-js-part-1-a0eae16ca0aa -->
<!-- https://reacttraining.com/react-router/web/guides/quick-start -->

<!-- React v Angular -->
<!-- https://medium.com/@mightysultan/why-we-chose-angular-over-react-e633b9d5d155 -->

<!-- React and Firebase -->
<!-- https://css-tricks.com/intro-firebase-react/ -->
<!-- https://www.robinwieruch.de/complete-firebase-authentication-react-tutorial/ -->

<header class="header" role="banner">
    <nav class="header__inner">
        <ul class="header__item header__item--links">
            <li class="header__link">
                <span class="header__link--background">
                    <a href="index.html">Home</a>
                </span>
            </li>
            <li class="header__link">
                <span class="header__link--background">
                    <a href="#main">Skip to content</a>
                </span>
            </li>
        </ul>
    </nav>
</header>

<main role="main" id="main">
    <h1>React</h1>

    <h2>React vs Angular</h2>

    <p>React is a library, Angular is a framework.</p>

    <p>Unlike React, most of the components like view routing, HTTP requests and testing is built into Angular meaning they will be upgraded and supported along with Angular.</p>

    <h2>Install React using NPM</h2>

    <p>You can use NPM (Node Package Manager) to install React. Installing Node (Node.js) will also install NPM and you will require a package.json file to be created within your project directory to allow NPM packages to be installed.</p>

    <p>We shall begin by opening the terminal to create a directory and to create a package.json file. Our directory will be named 'my-app'.</p>

    <pre>
        <code>
<!-- leave this line empty -->
# Create the project directory

$ mkdir my-app
$ cd my-app

# Create the package.json file

$ npm init -y
        </code>
    </pre>

    <p>Next we will install React as a dependency of our project.</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm install react --save
        </code>
    </pre>

    <p>If you look in the package.json file, you can see there's an object named dependencies. This will now have 'react' listed as a dependency. This indicates that your project is 'dependent' on having React installed.</p>
    
    <p>As we are using NPM to install packages and libraries into for use in our application, you may also notice a new directory of 'node_modules' in your project folder. This is the directory where NPM modules are saved. If you open node_modules, you should see a folder named 'react' which contains the React code.</p>

    <p>To complete the initial installation, we will also use NPM to install react-dom. Once again, this will be installed as a dependency and the code can be located within the node_modules directory.</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm install react-dom --save
        </code>
    </pre>

    <p>If you are using version control, such as Git, it maybe worthwhile creating a .gitignore file within the root directory of your repository to avoid the node_modules directory from being committed.</p>

    <pre>
        <code>
<!-- leave this line empty -->
node_modules/
        </code>
    </pre>

    <h3>Libraries explained</h3>

    <p>When setting up React, we usually install/setup three main libraries:</p>

    <ul>
        <li>React - the React top level API</li>
        <li>React DOM - adds DOM-specific methods</li>
        <li>Babel - a JavaScript compiler that lets us use ES6+ syntax in old browsers</li>
    </ul>

    <h2>Install React using Create React App</h2>

    <p>Create React App doesn't handle backend logic or databases; it just creates a frontend build pipeline, so you can use it with any backend you want. Under the hood, it uses Babel and Webpack. Using Babel allows the use of ES6 JavaScript syntax. Create React App is a node module created by Facebook and it really speeds up the generation of the boilerplate code for your application.</p>

    <p>Once you have Node and NPM (Node Package Manager) installed, you can use the create-react-app module. In some examples, you may notice that the 'npm' command has been replaced by 'npx'. This is a package runner tool that comes with NPM version 5.2 and above.</p>

    <p>We first must install the create-react-app module. This can be done globally within the terminal to create the create-react-app command line interface (CLI):</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm install create-react-app -g
        </code>
    </pre>

    <p>To optimise you application for production, you'll need to have Node >= 6 and NPM >= 5.2 installed on your machine.</p>

    <p>To create a project, run:</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm create-react-app my-app
$ cd my-app
$ npm start
        </code>
    </pre>

    <p>This will start your react application. This should begin the development server and will auto-open a tab in your browser that points to <a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer">http://localhost:3000/</a>.</p>

    <h2>The root attribute</h2>

    <p>Within the root of your newly created application directory, we are going to begin by creating a simple HTML document. This is where our React application will be rendered. The "root" attribute, also called the root DOM node, is managed by the React DOM library and this is the element that is used to render the application with the HTML. This attribute does not have to be named 'root', but for simplicity we will continue to use the name.</p>

    <p>Create a simple HTML document in the root of the project directory named 'index.html'.</p>

    <pre>
        <code>
<!-- leave this line empty -->
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;

    &lt;title&gt;React app&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;!-- This is where the app will render --&gt;
&lt;div id="root"&gt;&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
        </code>
    </pre>

    <h3>Including the JavaScript file(s)</h3>

    <p>Usually when building an application in React, we use a module bundler such as Webpack. This allows multiple JavaScript files to be bundled for use in a browser. You will need to include the JavaScript file that contains the JavaScript code for your React application into your HTML document. Let's assume this file is named 'main.js'.</p>

    <pre>
        <code>
<!-- leave this line empty -->
&lt;!-- This is where the app will render --&gt;
&lt;div id="root"&gt;&lt;/div&gt;

&lt;script src="scripts/main.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
        </code>
    </pre>

    <p>Our project file structure should now look something like this (Webpack and other config files not included to retain simplicity):</p>

    <pre>
        <code>
<!-- leave this line empty -->
my-app/
    .gitignore
    index.html
    node_modules/
        react/
        react-dom/
    scripts/
        main.js
    package.json
        </code>
    </pre>

    <h2>Hello World</h2>

    <p>The smallest React example we can create is to display a heading saying 'Hello, world!' on the page. We first need to import the React and ReactDOM libraries. We will use the 'main.js' file initially.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import ReactDOM from 'react-dom';
        </code>
    </pre>

    <p>Once the two libraries have been imported, we can then use the render() method provided by the react-dom library to render the heading onto the page within the 'root' element found within the HTML document.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import ReactDOM from 'react-dom';

ReactDOM.render(
    &lt;h1&gt;Hello, world!&lt;/h1&gt;,
    document.getElementById('root')
);
        </code>
    </pre>

    <p>This code can be amended further to import the react-dom render() method without the need to reference the ReactDOM library.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import { render } from 'react-dom';

render(
    &lt;h1&gt;Hello, world!&lt;/h1&gt;,
    document.getElementById('root')
);
        </code>
    </pre>

    <h2>React Container</h2>

    <p>A Container is an informal term for a React component that is connected to a Redux store. A component is a class or function that describes part of a React UI.</p>

    <h2>Simple React Component</h2>

    <p>The simplest way to define a React component is to write a JavaScript function. This type of component is called a functional component in React because they are functions.</p>

    <p>Component names should always start with an uppercase letter. We can now take the code example we have just created and define a simple React component, named 'Welcome', using a JavaScript function.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import { render } from 'react-dom';

// Component
function Welcome() {
    return &lt;h1&gt;Hello, world!&lt;/h1&gt;;
}

render(
    &lt;Welcome /&gt;,
    document.getElementById('root')
);
        </code>
    </pre>

    <p>The prop (properties) object can now be used to pass a value into our newly created Welcome component which will allow us to render 'Hello, Dan!' onto the page. The attribute values are passed into the props object within the component.</p>

    <p>To get the value of 'name' that has been passed into the component as a prop, we simply need to reference the props object - which is named 'props' in our example and found as a parameter within the function - followed by the object key 'name'. Therefore {props.name} will output the value 'Dan'.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import { render } from 'react-dom';

// Component
function Welcome(props) {
    return &lt;h1&gt;Hello, {props.name}!&lt;/h1&gt;;
}

render(
    &lt;Welcome name='Dan' /&gt;,
    document.getElementById('root')
);
        </code>
    </pre>

    <p>We have seen how we can create a very simple React component using a JavaScript function. This function is written using ES5 syntax, however, we can also write functions using the ES6 syntax. These functions are known as 'arrow' or 'fat arrow' functions and have no return statement.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// scripts/main.js

import React from 'react';
import { render } from 'react-dom';

// Component (ES6)
const Welcome = (props) =>
    &lt;h1&gt;Hello, {props.name}!&lt;/h1&gt;

render(
    &lt;Welcome name='Dan' /&gt;,
    document.getElementById('root')
);
        </code>
    </pre>

    <p>You can only render a single component within the render() method. Therefore, to add further React components, we will need to make some changes.</p>

    <p>Using arrow function for components, is anon function and could make it hard to debug, but using normal function maybe better.</p>

    <p>lifecycle methods used in classes and not dumb (function) components.</p>

    <h2>React Fragments</h2>

    <p>A common pattern in React is for a component to return multiple elements. Usually this requires the use of &lt;div&gt; elements to be added.</p>

    <pre>
        <code>
<!-- leave this line empty -->
render() {
    return (
        &lt;div&gt;
            &lt;Component /&gt;
            &lt;Component /&gt;
        &lt;/div&gt;
    )
}
        </code>
    </pre>

    <p>Using React Fragments lets you group a list of children without adding extra nodes to the DOM, as occurs when we use &lt;div&gt; elements.</p>

    <pre>
        <code>
<!-- leave this line empty -->
render() {
    return (
        &lt;React.Fragment&gt;
            &lt;Component /&gt;
            &lt;Component /&gt;
        &lt;/React.Fragment&gt;
    )
}
        </code>
    </pre>

    <p>Using Fragment avoids the &lt;div&gt; element from rendering in the DOM. We can also use the shorted syntax if you prefer.</p>

    <pre>
        <code>
<!-- leave this line empty -->
render() {
    return (
        &lt;&gt;
            &lt;Component /&gt;
            &lt;Component /&gt;
        &lt;&gt;
    )
}
        </code>
    </pre>

    <h2>Lifecycle Methods</h2>

    <p>The lifecycle methods are various methods which are invoked at different phases of the lifecycle of a component.</p>

    <p>componentWillMount is executed just before the React component is about to mount on the <abbr title="Document Object Model">DOM</abbr>. After this method, the component will mount. This method is executed once in a lifecycle of a component and before first render. Mounts the component onto the browser. This is a pure method, which means it gives the same output every time the same input is provided.</p>

    <p>componentDidMount is the hook method which is executed after the component did mount on the <abbr title="Document Object Model">DOM</abbr>. This method is executed once in a lifecycle and after the first render. This would be the right method to use to integrate with other JavaScript libraries such as D3 or jQuery that need access to the DOM, as we can now access the DOM.</p>

    <p>As a summary:</p>

    <ul>
        <li>componentDidMount - this method runs on the page once loaded, is called one time, usually on the page load.</li>
        <li>componentDidUpdate - everytime the state changes, this method will run.</li>
    </ul>

    <h2>Setting Page Titles</h2>

    <p>Setting a page title is a very useful step to making your React application accessible. Its one of the first thing a screen reader will announce and also updates the content showing in the browser tab helping to show the location to the user.</p>

    <pre>
        <code>
<!-- leave this line empty -->
componentDidMount() {
    document.title = "This is a page title";
}
        </code>
    </pre>

    <p>There is also a plugin you can use instead, <a href="https://github.com/nfl/react-helmet" target="_blank" rel="noopener noreferrer">react-helmet</a>, where you essentially handle head tags per page/component, like so:</p>

    <pre>
        <code>
<!-- leave this line empty -->
import React from "react";
import { Helmet } from "react-helmet";

class Application extends React.Component {
    render() {
        return (
            &lt;div className="application"&gt;
                &lt;Helmet&gt;
                    &lt;meta charset="utf-8" /&gt;
                    &lt;title&gt;My Page Title&lt;/title&gt;
                    &lt;link rel="canonical" href="http://mysite.com/example" /&gt;
                &lt;/Helmet&gt;
            &lt;/div&gt;
        );
    }
};
        </code>
    </pre>

    <p>This can be installed as a Dependency:</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm install react-helmet --save
        </code>
    </pre>

    <p>Within the index.js file (the file that is used to render your React application), import react-helmet and apply it to the component. Here is an example of how the page title should be applied:</p>

    <pre>
        <code>
<!-- leave this line empty -->
// index.js

import React from 'react'
import { render } from 'react-dom'
import { Helmet } from 'react-helmet'
import { Route, Link, BrowserRouter as Router, Switch } from 'react-router-dom'
import Home from './js/pages/Home'
import Users from './js/pages/Users'
import Contact from './js/pages/Contact'
import Notfound from './js/pages/Notfound'

const routing = (
    &lt;Router&gt;
        &lt;React.Fragment&gt;
            &lt;Helmet&gt;
                &lt;title&gt;React App&lt;/title&gt;
            &lt;/Helmet&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;Link to="/"&gt;Home&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to="/users"&gt;Users&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to="/contact"&gt;Contact&lt;/Link&gt;&lt;/li&gt;
            &lt;/ul&gt;
            &lt;Switch&gt;
                &lt;Route exact path="/" component={Home} /&gt;
                &lt;Route path="/users" component={Users} /&gt;
                &lt;Route path="/contact" component={Contact} /&gt;
                &lt;Route component={Notfound} /&gt;
            &lt;/Switch&gt;
        &lt;/React.Fragment&gt;
    &lt;/Router&gt;
)

render(
    routing,
    document.getElementById('root')
)
        </code>
    </pre>

    <p>The &lt;title&gt; element can be removed from the index.html (HTML) file that is used to render your React app as react-helmet will handle the page title.</p>

    <p>Update your components (used for pages) as so to change the title, as this example demonstrates:</p>

    <pre>
        <code>
<!-- leave this line empty -->
// js/pages/Contact.js

import React from 'react'
import { Helmet } from 'react-helmet'

const Contact = () => {
    return (
        &lt;React.Fragment&gt;
            &lt;Helmet&gt;
                &lt;title&gt;React App - Contact&lt;/title&gt;
            &lt;/Helmet&gt;
            &lt;h1&gt;Contact&lt;/h1&gt;
        &lt;/React.Fragment&gt;
    )
}

export default Contact
        </code>
    </pre>

    <p>And here is the homepage that sets the default page title:</p>

    <pre>
        <code>
<!-- leave this line empty -->
// js/pages/Home.js

import React from 'react'
import { Helmet } from 'react-helmet'

const Home = () => {
    return (
        &lt;React.Fragment&gt;
            &lt;Helmet&gt;
                &lt;title&gt;React App&lt;/title&gt;
            &lt;/Helmet&gt;
            &lt;h1&gt;Home&lt;/h1&gt;
        &lt;/React.Fragment&gt;
    )
}

export default Home
        </code>
    </pre>

    <h2>Accessibility in React</h2>

    <p>We have an <a href="accessibility.html">accessibility</a> section within our development notes.</p>

    <p>Along within installing ESLint, see the <a href="webpack.html">Webpack</a> documentation for this, you can also install the ESLint jsx-a11y plugin for your React projects to display accessibility rules you may miss whilst building your application.</p>

    <pre>
        <code>
<!-- leave this line empty -->
$ npm install eslint-plugin-jsx-a11y --save-dev
        </code>
    </pre>

    <p>You will also need to update your eslintrc file:</p>

    <pre>
        <code>
<!-- leave this line empty -->
"plugin": [
    "jsx-a11y"
]
        </code>
    </pre>

    <p>In the extends section:</p>

    <pre>
        <code>
<!-- leave this line empty -->
"extends": [
    "plugin: jsx-a11y/recommended"
]
        </code>
    </pre>

    <h2>Mock files</h2>
    <!-- https://jestjs.io/docs/en/manual-mocks -->

    <p>A mock file is used to mock data and are objects used to simulate the behavior of tools. Manual mocks are used to stub out functionality with mock data. For example, instead of accessing a remote resource like a website or database, yoy may want to create a manual mock that allows you to use fake data. This ensures that your tests will be fast and not flaky.</p>
</main>

</body>
</html>