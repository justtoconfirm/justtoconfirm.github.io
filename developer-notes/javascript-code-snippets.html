<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Developer Notes - JavaScript Code Snippets</title>

    <link rel="shortcut icon" type="image/ico" href="img/favicon/code.ico" />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="preload" href="fonts/nunito-v9-latin-regular.woff2" as="font" type="font/woff2" crossorigin />
</head>
<body>

<!--
(function () {
    'use strict';

    var level = document.querySelector('#level');
    var batteryColor = document.querySelector('#battery');

    window.navigator.getBattery().then(function (battery) {
        function updateAllBatteryInfo() {
            updateChargeInfo();
            updateLevelInfo();
            updateBatteryColor();
        }
        updateAllBatteryInfo();

        battery.addEventListener('chargingchange', function () {
            updateChargeInfo();
            updateBatteryColor();
        });
        function updateChargeInfo() {
            // charging.textContent = battery.charging ? "Charging..." : "Unplugged";
            console.log("Battery charging? " + (battery.charging ? "Charging..." : "Unplugged"));
        }

        battery.addEventListener('levelchange', function () {
            updateLevelInfo();
            updateBatteryColor();
        });
        function updateLevelInfo() {
            level.textContent = battery.level * 100 + "%";
            console.log("Battery level: " + battery.level * 100 + "%");
        }
        function updateBatteryColor () {
            if (battery.charging) {
                batteryColor.classList.remove(batteryColor.classList[0]);
                batteryColor.classList.add('ion-battery-charging');
            }

            if (battery.level * 100 >= 80 && !battery.charging) {
                batteryColor.classList.remove(batteryColor.classList[0]);
                batteryColor.classList.add('ion-battery-full');
            }

            if (battery.level * 100 >= 50 && battery.level * 100 < 80 && !battery.charging) {
                batteryColor.classList.remove(batteryColor.classList[0]);
                batteryColor.classList.add('ion-battery-half');
            }

            if (battery.level * 100 <= 20 && !battery.charging) {
                batteryColor.classList.remove(batteryColor.classList[0]);
                batteryColor.classList.add('ion-battery-low');
            }

            if (battery.level * 100 <= 7 && !battery.charging) {
                batteryColor.classList.remove(battery.classList[0]);
                batteryColor.classList.add('ion-battery-empty');
            }
        }
    });
}()); 
-->

<!-- https://openclassrooms.com/en/courses/3523231-learn-to-code-with-javascript/3703666-store-data-in-arrays -->
<!-- https://codeburst.io/all-about-javascript-arrays-in-1-article-39da12170b1c -->
<!-- https://www.digitalocean.com/community/tutorials/how-to-use-object-methods-in-javascript -->
<!-- https://codeburst.io/javascript-what-is-the-return-statement-97d8b11a1a0c -->
<!-- https://openclassrooms.com/en/courses/3523231-learn-to-code-with-javascript/4379006-use-constructor-functions -->
<!-- https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced -->
<!-- https://javascriptweblog.wordpress.com/2010/12/07/namespacing-in-javascript/ -->

<!-- https://ourcodeworld.com/articles/read/37/how-to-create-your-own-javascript-library -->
<!-- https://code.tutsplus.com/tutorials/build-your-first-javascript-library--net-26796 -->
<!-- http://dfsq.info/site/read/writing-your-own-jquery -->
<!-- https://stackoverflow.com/questions/11167317/what-is-the-purpose-of-a-parameter-named-undefined-in-a-javascript-function -->

<!-- https://medium.freecodecamp.org/prototype-in-js-busted-5547ec68872 -->
<!-- https://codepen.io/cedricbeau/pen/BzwWJd -->

<!-- Page Scrollbar -->
<!-- https://medium.com/@ephreycleophace/build-a-progress-bar-on-scroll-in-vanilla-javascript-5b0cc84b6287 -->
<!--
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Progress Bar on Scroll -  Demo</title>
  <style>
    body {
            padding-top: 30px;
        }
        div.main_container {
      position: fixed;
      top: 0;
      left: 0;
      height: 8px;
      width: 100%;
      background-color: transparent;
      transition: all 0.5s ease;
    }
    div.element_to_stretch {
      height: 100%;
      width: 0%;
      background-color: red;
    }
  </style>
</head>
<body>
  <div class="main_container">
    <div class="progress_bar"></div>
  </div>

  <h1>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</h1>

  <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas.
    Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas
    semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien
    ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean
    fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a
      href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

  <h2>Header Level 2</h2>

  <ol>
    <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
    <li>Aliquam tincidunt mauris eu risus.</li>
  </ol>

  <blockquote>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a
      est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada
      tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p>
  </blockquote>

  <h3>Header Level 3</h3>

  <ul>
    <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
    <li>Aliquam tincidunt mauris eu risus.</li>
  </ul>

  <pre><code>
    #header h1 a {
        display: block;
        width: 300px;
        height: 80px;
    }
    </code></pre>

  <h1>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</h1>

  <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas.
    Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas
    semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien
    ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean
    fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a
      href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

  <h2>Header Level 2</h2>

  <ol>
    <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
    <li>Aliquam tincidunt mauris eu risus.</li>
  </ol>

  <blockquote>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a
      est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada
      tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p>
  </blockquote>

  <h3>Header Level 3</h3>

  <ul>
    <li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
    <li>Aliquam tincidunt mauris eu risus.</li>
  </ul>

  <pre><code>
    #header h1 a {
        display: block;
        width: 300px;
        height: 80px;
    }
    </code></pre>


  <script type="text/javascript">
    // get elements
      const body = document.querySelector("body");
      const progressBar = document.querySelector(".progress_bar");
      // this function increase or decrease the percentage of the element to stretch
      function stretch() {
        const pixelScrolled = window.scrollY;
        const viewportHeight = window.innerHeight;
        const totalHeightScrollable = body.scrollHeight;
        // convert pixels to percentage
        const pixelsToPercentage =
          (pixelScrolled / (totalHeightScrollable - viewportHeight)) * 100;
        // set the width of the fluid element.
        progressBar.style.width = Math.round(pixelsToPercentage) + "%";
      }
      // append a scroll event listener to the window object
      window.addEventListener('scroll', stretch);
  </script>
</body>
</html>
-->

<!-- https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame -->
<!-- Supported in IE10 and above -->

<header class="header" role="banner">
    <nav class="header__inner">
        <ul class="header__item header__item--links">
            <li class="header__link">
                <span class="header__link--background">
                    <a href="index.html">Home</a>
                </span>
            </li>
            <li class="header__link">
                <span class="header__link--background">
                    <a href="#main">Skip to content</a>
                </span>
            </li>
        </ul>
    </nav>
</header>

<main role="main" id="main">
    <h1>JavaScript Code Snippets</h1>

    <p>Here is a collection of really useful code snippets and notes to build up my JavaScript knowledge step-by-step.</p>

    <h2>Variables</h2>

    <p>Any variables declared outside of a function are in the global namespace. It's always recommended to have variables declared inside functions to avoid polluting the global namespace and potentially causing conflicts.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var name = "Dan";
        </code>
    </pre>

    <p>So if we view the Window object, we should see our variable of 'name' declared globally.</p>

    <h2>Getting elements</h2>

    <p>We want to use JavaScript to get HTML elements within our HTML documents. We have created a very simple HTML document with a few elements:</p>

    <pre>
        <code>
<!-- leave this line empty -->
&lt;body&gt;

&lt;h1 id="heading"&gt;Introduction&lt;/h1&gt;
&lt;p&gt;This is an introduction to the page we have created.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
        </code>
    </pre>

    <p>I would like to get the &lt;h1&gt; element using JavaScript.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var heading = document.getElementById('heading');
console.log(heading);
        </code>
    </pre>

    <p>All the properties of the heading element will also be output within the console when this code is run.</p>

    <h2>Random Numbers</h2>

    <p>We can use JavaScript to generate random numbers. Here, we can return a random integer from 0 to 9:</p>

    <pre>
        <code>
<!-- leave this line empty -->
Math.floor(Math.random() * 10);     // 0 to 9
        </code>
    </pre>

    <h2>JavaScript Mistakes</h2>

    <p>Mistakes often happen. We do our best to avoid them, and hopefully with these notes we can do just that.</p>

    <p>JavaScript programs may generate unexpected results if a programmer accidentally uses an assignment operator (=), instead of a comparison operator (==) in an if statement.</p>

    <p>This if statement returns false (as expected) because x is not equal to 10:</p>

    <pre>
        <code>
<!-- leave this line empty -->
var x = 0;
if (x == 10);   // false (this is correct!, 0 and 10 are not the same, is true)
        </code>
    </pre>

    <p>This is incorrect, as '0' which is the value of 'x' does not equal '10' so this is wrong. However, we are getting true returned (incorrect) because we are using an assignment operator and not a comparison operator.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var x = 0;
if (x = 10);   // true (this is wrong! 0 and 10 are not the same, should be false)
        </code>
    </pre>

    <h2>Strict</h2>

    <p>When writing JavaScript, often it's not in "strict mode" by default, unless your writing JavaScript in modules, in which case it is. It is a literal expression and is used to indicate your JavaScript code should be executed in "strict mode". With strict mode, you cannot for example, use undeclared variables. It essentially allows you to write cleaner code and catches any errors which may occur.</p>

    <ul>
        <li>It eliminates some JavaScript silent errors by changing them to throw errors.</li>
        <li>Fixes mistakes that make it difficult for Javacript engines to perform optimizations.</li>
        <li>Prohibits some syntax that is likely to be defined in future versions of ECMAScript.</li>
    </ul>

    <p>This literal expression is declared at the beginning of a script and it has global scope (all code in the script will execute in strict mode).</p>

    <pre>
        <code>
<!-- leave this line empty -->
"use strict";

var message = "Hi, I'm in a strict mode script";
console.log(message);
        </code>
    </pre>

    <p>It's supported in all modern browsers except IE9 (Internet Explorer 9) and below.</p>

    <h2>JavaScript Conditions</h2>

    <p>The if statement can be used to specify a block of JavaScript code to be executed if a condition is true. In this next example, I am setting the variable to be a boolean value of 'true', so the condition is true and therefore the output will be logged in the console.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var passed = true;

if (passed) {
    console.log('This has passed!');
}
        </code>
    </pre>

    <p>I can use the else statement to specify a block of code to be executed if the condition is false.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var passed = true;

if (passed) {
    console.log('This has passed!');
} else {
    console.log('This has failed!');
}
        </code>
    </pre>

    <p>Finally, we can use the else if statement to execute a block of code if the condition matches something else.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var passed = true;

if (passed) {
    console.log('This has passed!');
} else if (passed == false) {
    console.log('This has failed!');
} else {
    console.log('Unknown pass or fail');
}
        </code>
    </pre>

    <h2>Date</h2>

    <p>I would like to understand how we handle date using JavaScript. I will need to use the Date() object that is a built-in to JavaScript. Once a Date() object is created, we can use a number of methods to allow you to operate on it.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var d = new Date();
console.log(d);     // Wed Feb 20 2019 16:34:18 GMT+0000 (Greenwich Mean Time)
        </code>
    </pre>

    <p>Here are some of the methods that can be used once we have access to the Date object:</p>

    <pre>
        <code>
<!-- leave this line empty -->
d.getTime();        // 1550680510178
d.getFullYear();    // 2019
d.getMonth();       // 0 = January, 1 = February
        </code>
    </pre>

    <p>In the browser console, you can also do the following:</p>

    <pre>
        <code>
<!-- leave this line empty -->
new Date.getDay();
        </code>
    </pre>

    <p>We can use an array containing the names of the months and the getMonth() method will return the month as a name.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var d = new Date();
var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

console.log(months[d.getMonth()]);      // February
        </code>
    </pre>

    <p>We can use a switch statement to select one of many code blocks to be executed, similar to a conditional (if/else if/else) statement. I will continue with the data theme here.</p>

    <pre>
        <code>
<!-- leave this line empty -->
switch (new Date().getDay()) {
    case 0:
        day = "Sunday";
        break;
    case 1:
        day = "Monday";
        break;
    case 2:
        day = "Tuesday";
        break;
    case 3:
        day = "Wednesday";
        break;
    case 4:
        day = "Thursday";
        break;
    case 5:
        day = "Friday";
        break;
    case 6:
        day = "Saturday";
}

console.log("Today is " + day);
        </code>
    </pre>

    <h2>Array</h2>

    <p>A collection of JavaScript array snippets.</p>

    <h3>Create an array and add an element</h3>

    <p>We will create a simple array with some pre-defined items. We add a new item to the end of the array using the push() method. We can then output the entire array or a single item using the console.log function.</p>

    <p>Keyword: <a href="javascript-basic.html">Arrays</a></p>

    <pre>
        <code>
<!-- leave this line empty -->
var arr = [1, 2, 3, "Dan", true];
arr.push("Devnotes");       // Add "Devnotes" at the end of the array

console.log(arr);           // [1, 2, 3, "Dan", true, "Devnotes"]
console.log(arr[2]);        // 3
        </code>
    </pre>

    <p>I can use the length property on the array to count how many items the array contains.</p>

    <pre>
        <code>
<!-- leave this line empty -->
console.log(arr.length);    // 6
        </code>
    </pre>

    <h3>Loop through the array</h3>

    <p>Now that the array has been created, I want to loop through the items that the array contains. I'll be using a for loop to do this.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var arr = [1, 2, 3, "Dan", true];

for (var i = 0; i < arr.length; i++) {
    console.log(arr[i]);
}
        </code>
    </pre>

    <p>You may want to use 'let' in-place of 'var' to declare the variable, but for now I'll stick with using 'var'.</p>

    <p>This will give us the output of:</p>

    <pre>
        <code>
<!-- leave this line empty -->
1
2
3
Dan
true
        </code>
    </pre>

    <p>To improve performance (slightly), we can place the length property outside the loop and access it outside which should make the loop run faster and avoid the code having to access the length property of the array each time the loop is iterated. We can also declare the variable of 'i' for the same reason.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var arr = [1, 2, 3, "Dan", true];

var i;
var len = arr.length;
for (i = 0; i < len; i++) {
    console.log(arr[i]);
}
        </code>
    </pre>

    <h2>Reduce DOM access</h2>

    <p>Accessing the HTML <abbr title="Document Object Model">DOM</abbr> is very slow compared with other JavaScript statements. If you expect to access a DOM element multiple times, access it once, then use it as a local variable.</p> 

    <pre>
        <code>
<!-- leave this line empty -->
var obj;

obj = document.getElementById("demo");
obj.innerHTML = "Hello";
        </code>
    </pre>

    <p>Its always recommended to keep the number of elements in the DOM small as this will improve page loading and speed up rendering (page display). Every attempt to search the DOM will benefit from a smaller DOM.</p>

    <h2>Avoid the use of too many variables</h2>

    <p>Avoid creating new variables if you don't intend to save values. Often we can replace code like this:</p>

    <pre>
        <code>
<!-- leave this line empty -->
var fullName = firstName + " " + lastName;
document.getElementById("demo").innerHTML = fullName;
        </code>
    </pre>

    <p>With this:</p>

    <pre>
        <code>
<!-- leave this line empty -->
document.getElementById("demo").innerHTML = firstName + " " + lastName;
        </code>
    </pre>

    <p>By putting your scripts at the bottom of the page, it lets the browser also load the page first.</p>

    <h2>Timeout</h2>

    <p>The setTimeout() method calls a function or evaluates an expression after a specified number of milliseconds. 1000ms is equal to 1 second. The setTimeout() method is only executed once. If you need to repeat execution, us the setInterval() method.</p>

    <p>I want to create a simple function that will show an alert box after 3000ms (3 seconds).</p>

    <pre>
        <code>
<!-- leave this line empty -->
setTimeout(function() {
    alert("Hello World");
}, 3000);
        </code>
    </pre>

    <p>The setInterval() method calls a function or evaluates an expression at specified intervals (in milliseconds). The setInterval() method will continue calling the function until clearInterval() is called, or the window is closed.</p>

    <pre>
        <code>
<!-- leave this line empty -->
// Call the myTimer() function every second
var timer = setInterval(myTimer, 1000);

function myTimer() {
    var date = new Date();
    var time = date.toLocaleTimeString();
    console.log(time);

    // Replace the console.log if you want to display on the page
    // document.getElementById("demo").innerHTML = time;
}

// Stop the timer
function stopTimer() {
    clearInterval(timer);
}
        </code>
    </pre>

    <h2>Functions</h2>

    <p>To start, I'm going to create a really simple function that when called, logs text into the console.</p>

    <pre>
        <code>
<!-- leave this line empty -->
function myFunc() {
    console.log('Really simple function');
}

myFunc();
        </code>
    </pre>

    <p>Next, I can change the function to use the return statement. This statement will stop the execution of the function and returns the value from the function.</p>

    <pre>
        <code>
<!-- leave this line empty -->
function myFunc() {
    return Math.PI;     // Return the value of PI
}

myFunc();
        </code>
    </pre>

    <p>Along with stopping the function execution, the return statement also returns a value to the function caller. Since a value is being return to the function called, we can create a variable and set it equal to an invocation of our function.</p>

    <p>We are also passing arguments into a parameter named 'num' within the function.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var double = function(num) {
    return num * 2;
}

var six = double(3);            // 6
var twelve = double(six);       // 12
        </code>
    </pre>

    <p>Here is a typical function where we can pass in values as arguments into parameters - numOne and numTwo:</p>

    <pre>
        <code>
<!-- leave this line empty -->
function addNumbers(numOne, numTwo) {
    return numOne + numTwo;
}

addNumbers(4, 5);
        </code>
    </pre>

    <h3>Anonymous Functions</h3>

    <p>An anonymous function is simply a function without a name. We can create an self-executing function, an IIFE (Immediately Invoked Function Expression) that will run without being called.</p>

    <pre>
        <code>
<!-- leave this line empty -->
(function() {
    console.log("I'm an IIFE!!!");
}());
        </code>
    </pre>

    <p>Because this function is anonymous, anything within is not exposed to the global namespace. We can pass arguments into our function using arguments and parameters, such as window and document.</p>

    <pre>
        <code>
<!-- leave this line empty -->
(function(w, d) {
    console.log(w);     // console log the window object
}(window, document));
        </code>
    </pre>

    <p>We can add a constructor method to our function. Our IIFE is called globally, so the "this" keyword is used to point at the global window object.</p>

    <pre>
        <code>
<!-- leave this line empty -->
(function(w, d) {
    
    // Define a constructor
    this.Test = function() {
        // Empty for now
    }

}(window, document));
        </code>
    </pre>

    <p>This creates a functional object which can be instantiated with the "new" keyword. This creates a new instance of our object. At this state, our object doesn't do much.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var myTest = new Test();
        </code>
    </pre>

    <p>I can possible look to add a public method to our object if we want:</p>

    <pre>
        <code>
<!-- leave this line empty -->
(function(w, d) {
    
    // Define a constructor
    this.Test = function() {
        // Empty for now
    }

    // Public method
    Test.prototype.log = function() {
        console.log('Hello World');
    }
}(window, document));
        </code>
    </pre>

    <p>We can now run the public method:</p>

    <pre>
        <code>
<!-- leave this line empty -->
var myTest = new Test();
myTest.log();       // Hello World
        </code>
    </pre>

    <p>I have seen examples of objects created that also set "strict mode" like so:</p>

    <pre>
        <code>
<!-- leave this line empty -->
(function(w, d) {

    // Enable strict mode
    "use strict";
    
    // Define a constructor
    this.Test = function() {
        // Empty for now
    }

    // Public method
    Test.prototype.log = function() {
        console.log('Hello World');
    }
}(window, document));
        </code>
    </pre>

    <h2>Object</h2>

    <p>We are now going to add the array we have created inside an object. The object has been created using object literal notation and the array is a property of this object.</p>

    <p>Keyword: <a href="javascript-object.html">Object</a></p>

    <h3>An array inside an object</h3>

    <p>We can create a simple JavaScript object and add our array as a property into our newly created object. For simplicity, I'm going to call this object 'obj'.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var obj = {
    arr: [1, 2, 3, "Dan", true]
};

console.log(obj.arr);       // (5) [1, 2, 3, "Dan", true]
console.log(obj.arr[2]);    // 3
        </code>
    </pre>

    <p>Once our object has been created, it will be added to the Window object. In the browser console, type the following:</p>

    <pre>
        <code>
<!-- leave this line empty -->
window
        </code>
    </pre>

    <p>The Window interface represents a window containing a <abbr title="Document Object Model">DOM</abbr> document. A window for a given document can be obtained using the document.defaultView property.</p>

    <p>A global variable, window, representing the window in which the script is running, is exposed to JavaScript code. The Window interface is a suitable place to include these items that need to be globally available.</p>

    <p>In a tabbed browser, each tab is represented by its own Window object. The global window seen by JavaScript code running within a given tab always represents the tab in which the code is running.</p>

    <pre>
        <code>
<!-- leave this line empty -->
document.defaultView
        </code>
    </pre>

    <p>We can also view the document object in the console:</p>

    <pre>
        <code>
<!-- leave this line empty -->
document
        </code>
    </pre>

    <p>Within the Window object, locate the 'obj' object we have created. This will contain any properties and methods within our object.</p>

    <p>As an example, I'll just add two more properties to our object as examples.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var obj = {
    name: "Dan Jackson",
    city: "Brighton",
    arr: [1, 2, 3, "Dan", true]
};

// Output the property values
console.log(obj.name);          // "Dan Jackson"
console.log(obj.city);          // "Brighton"
console.log(obj.arr);           // (5) [1, 2, 3, "Dan", true]
console.log(obj.arr[2]);        // 3
console.log(obj.arr.length);    // 5
        </code>
    </pre>

    <h3>Adding a method to the object</h3>

    <p>We can create a method named outputArray() within our object to loop through our array now it's within the object. A method is simply a function within an object. When we call the method, the items within the array are logged within the console output.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var obj = {
    name: "Dan Jackson",
    city: "Brighton",
    arr: [1, 2, 3, "Dan", true],

    // Method
    outputArray: function() {
        for (var i = 0; i < arr.length; i++) {
            console.log(arr[i]);
        }
    }
};

// Call the method within the object
obj.outputArray();
        </code>
    </pre>

    <h3>The Module Pattern</h3>

    <p>The logic is shielded from the global scope by a function wrapper (usually self-invoking) which returns an object representing the module's public interface. By immediately invoking the function and assigning the result to a namespace variable, we lock up the module's API in the namespace. Any variables not included in the return value will remain forever private, visible only to the public functions that reference them.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var myApp = (function() {
    var id = 0;

    return {
        next: function() {
            return id++;
        },
        reset: function() {
            id = 0;
        }
    };
}());

myApp.next();      // 1
        </code>
    </pre>

    <h2>Enable button with checkbox</h2>

    <p>A typical use of JavaScript on forms may involve the need for a user to select/check a checkbox to enable a 'Submit' button to submit the form. This can be done pretty simply. We begin with the HTML code. This will simply be a button and checkbox.</p>

    <pre>
        <code>
<!-- leave this line empty -->
&lt;form&gt;
    &lt;input type="checkbox" name="checkform" id="checkform" /&gt;I agree to the terms
    &lt;button type="submit" id="btn"&gt;Submit&lt;/button&gt;
&lt;/form&gt;
        </code>
    </pre>

    <p>Next, we add the JavaScript code:</p>

    <pre>
        <code>
<!-- leave this line empty -->
var checkbox = document.getElementById('checkform');    // Checkbox
var button = document.getElementById('btn');            // Button

// Set the button to be disabled by default
button.disabled = true;

// Function that is executed if the checkbox state changes
checkbox.onchange = function() {
    // Keep the button disabled if the checkbox (this) is not checked
    button.disabled = !this.checked;
}
        </code>
    </pre>

    <h2>Exceptions</h2>
    <!-- https://www.sitepoint.com/exceptional-exception-handling-in-javascript/ -->

    <p>When a JavaScript statement generates an error, it is said to throw an exception. Instead of proceeding to the next statement, the JavaScript interpreter checks for exception handling code. If there is no exception handler, then the program returns whatever function threw the exception. This is repeated for each function on the call stack until an exception handler is found or until the top level function is reached, causing the program to terminate.</p>

    <h3>SyntaxError</h3>

    <p>A "SyntaxError" is thrown when the rules of the JavaScript language are broken. JavaScript is an interpreted language, syntax errors are therefore not identified until the code is executed.</p>

    <pre>
        <code>
<!-- leave this line empty -->
if (foo) {
    // SyntaxError caused by missing closing bracket

        </code>
    </pre>

    <h3>TypeError</h3>

    <p>A "TypeError" exception occurs when a value is not of the expected type. Attempting to call a method that is non-existent in an object is a common cause of this type of exception. The following example creates an empty object named "foo" and then attempts to invoke it's bar() method which is not defined. A "TypeError" exception is thrown.</p>

    <pre>
        <code>
<!-- leave this line empty -->
var foo = {};

foo.bar();  // TypeError as bar() has not been defined.
        </code>
    </pre>

    <h3>ReferenceError</h3>

    <p>A "ReferenceError" exception is thrown when a non-existent variable is accessed. These exceptions commonly occur when an existing variable name is misspelled.</p>

    <pre>
        <code>
<!-- leave this line empty -->
function foo() {
    bar++;      // ReferenceError
}
        </code>
    </pre>

    <p>Now that we know what exceptions are, its time to learn how to stop them from crashing our programs. JavaScript handles exceptions via the "try...catch...finally" statement. This is a generic statement:</p>

    <pre>
        <code>
<!-- leave this line empty -->
try {
    // Attempt to execute the code
} catch (exception) {
    // Handle the exception
} finally {
    // This code always gets executed
}
        </code>
    </pre>

    <h2>Page Scroll</h2>

    <p>We can use JavaScript to trigger events on the page scroll. We can first call a function using an eventListener. On the scroll, a function is called that will display the current vertical position in pixels on the page.</p>

    <pre>
        <code>
<!-- leave this line empty -->
function scrollPosition() {
    var position = document.querySelector('#position');
    position.innerHTML = window.scrollY + 'px';
}

// eventListener
window.addEventListener('scroll', scrollPosition);
        </code>
    </pre>

    <p>Here is the HTML:</p>

    <pre>
        <code>
<!-- leave this line empty -->
&lt;div&gt;window.scrollY = &lt;span id="position"&gt;0px&lt;/span&gt;&lt;/div&gt;
        </code>
    </pre>
</main>

</body>
</html>